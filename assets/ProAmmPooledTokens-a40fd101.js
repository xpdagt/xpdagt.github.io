var Dt=Object.defineProperty;var Wt=(e,t,n)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>(Wt(e,typeof t!="symbol"?t+"":t,n),n);import{h4 as zt,h5 as Gt,r as I,h6 as $t,h7 as Te,R as ge,aP as he,j as a,g3 as ee,g as v,S as ct,$ as yt,gw as mt,gx as Ke,h8 as fe,go as Ce,u as P,cu as je,a9 as ft,fF as Bt,bg as Kt,ef as Re,h9 as Ht,eP as Tt,ha as we,hb as oe,dq as pe,br as Ie,ar as te,cH as ne,P as ke,eR as Le,af as le,fG as Yt,hc as qt,hd as Qt,he as Jt,hf as Xt,hg as Zt,a5 as gt,fo as re,fK as Se,A as He,gq as ht,hh as xt,z as bt,eD as B,ai as _,G as D,H as Q,N as J,bP as K,hi as Vt,fB as Ye,e5 as en,fY as wt,gv as tn,s as U,hj as tt,k as Fe,aa as ce,d as C,a6 as nt,aS as It,a1 as ve,b as kt,fv as Ue,hk as nn,fA as se,fI as an,fZ as Ge,bq as sn,T as S,fd as rn,bl as on,fg as pn,dT as dn,ag as $e,l as un,aX as ln,aC as cn,gl as Ee,bo as me,Z as Lt,bp as W,cY as Y,fO as at,Q as X,F as N,bE as yn,bG as mn,b0 as fn,am as xe,h3 as Tn,x as st,M as rt,ab as gn,fx as hn,cE as xn,a8 as bn,dm as it,eO as ot,Y as wn}from"./index-201afa5f.js";import{d as St,g as vt,c as Ae,u as In,N as kn}from"./usePools-183a4c92.js";import{Q as De}from"./index-b2d55c59.js";import{u as Ln}from"./useTransactionDeadline-c5bbcb75.js";import{u as pt}from"./index-87f0fe63.js";var Sn=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function Et(e,t){var n=zt(Gt(t&&t.client),e),s=I.useRef(),l=s.current?$t(t,s.current):t,u=n.useQuery(Te(Te({},l),{skip:!s.current})),m=u.observable.options.initialFetchPolicy||n.getDefaultFetchPolicy(),f=Object.assign(u,{called:!!s.current}),x=I.useMemo(function(){for(var d={},o=function(c){var y=f[c];d[c]=function(){return s.current||(s.current=Object.create(null),n.forceUpdate()),y.apply(this,arguments)}},r=0,p=Sn;r<p.length;r++){var i=p[r];o(i)}return d},[]);Object.assign(f,x);var b=I.useCallback(function(d){s.current=d?Te(Te({},d),{fetchPolicy:d.fetchPolicy||m}):{fetchPolicy:m};var o=n.asyncUpdate().then(function(r){return Object.assign(r,x)});return o.catch(function(){}),o},[]);return[b,f]}function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Be.apply(this,arguments)}function vn(e,t){if(e==null)return{};var n=En(e,t),s,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)s=u[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function En(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,u;for(u=0;u<s.length;u++)l=s[u],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}var qe=I.forwardRef(function(e,t){var n=e.color,s=n===void 0?"currentColor":n,l=e.size,u=l===void 0?24:l,m=vn(e,["color","size"]);return ge.createElement("svg",Be({ref:t,xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},m),ge.createElement("circle",{cx:"12",cy:"12",r:"10"}),ge.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),ge.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))});qe.propTypes={color:he.string,size:he.oneOfType([he.string,he.number])};qe.displayName="AlertCircle";const An=qe;function Mn({size:e}){return a.jsxs("svg",{width:e||16,height:e||16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M4 5H12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M6 9L4 11L6 13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 11H4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M10 3L12 5L10 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}class At extends St{constructor({nftId:n,pool:s,liquidity:l,tickLower:u,tickUpper:m}){super({pool:s,liquidity:l,tickUpper:m,tickLower:u});et(this,"nftId");this.nftId=n}}var j;(function(e){e[e.SUPER_STABLE=1]="SUPER_STABLE",e[e.STABLE=2]="STABLE",e[e.NOMAL=30]="NOMAL",e[e.EXOTIC=100]="EXOTIC"})(j||(j={}));const ra=[ee.FULL_RANGE,ee.SAFE,ee.COMMON,ee.EXPERT],Cn=()=>({[ee.FULL_RANGE]:{title:v._({id:"89wfR9"}),tooltip:{[j.SUPER_STABLE]:v._({id:"OfL4bF"}),[j.STABLE]:v._({id:"OfL4bF"}),[j.NOMAL]:v._({id:"OfL4bF"}),[j.EXOTIC]:v._({id:"OfL4bF"})},factor:1/0},[ee.SAFE]:{title:v._({id:"P42Wcc"}),tooltip:{[j.SUPER_STABLE]:v._({id:"begLUa"}),[j.STABLE]:v._({id:"7W00+O"}),[j.NOMAL]:v._({id:"n2+JwE"}),[j.EXOTIC]:v._({id:"0gj7Xa"})},factor:75},[ee.COMMON]:{title:v._({id:"aqFIWP"}),tooltip:{[j.SUPER_STABLE]:v._({id:"Yxvzuu"}),[j.STABLE]:v._({id:"3ey7ip"}),[j.NOMAL]:v._({id:"lciG0P"}),[j.EXOTIC]:v._({id:"3OzN9S"})},factor:50},[ee.EXPERT]:{title:v._({id:"DjmziY"}),tooltip:{[j.SUPER_STABLE]:v._({id:"Txn9DQ"}),[j.STABLE]:v._({id:"Xw0V1n"}),[j.NOMAL]:v._({id:"iSiPHE"}),[j.EXOTIC]:v._({id:"f39ftK"})},factor:15}}),be=e=>Math.log(e)/Math.log(1.0001),ia=(e,t,n,s,l)=>{const m=Cn()[e].factor,f=1-l*m/1e4,x=1+l*m/1e4,b=[s+Math.floor(be(f)),s+Math.ceil(be(x))],d=[s+Math.floor(be(1/f)),s+Math.ceil(be(1/x))];return t.sortsBefore(n)?b:d};function jn(e){const t=ct[e.token0.chainId];return yt.getCreate2Address(t.elastic.coreFactory,mt(["bytes"],[Ke.encode(["address","address","uint24"],[e.token0.address,e.token1.address,e.fee])]),t.elastic.initCodeHash)}fe("prommPools/updatePools");fe("prommPools/setLoading");fe("prommPools/setError");fe("prommPools/setSelectedPool");fe("prommPools/setSharedPoolId");Ce`
  query positions($owner: Bytes!) {
    positions(where: { ownerOriginal: $owner, liquidity_gt: 0 }) {
      id
      owner
      liquidity
      tickLower {
        tickIdx
      }
      tickUpper {
        tickIdx
      }
      pool {
        id
        feeTier
        tick
        liquidity
        reinvestL
        sqrtPrice
        token0 {
          id
          derivedETH
          symbol
          decimals
        }
        token1 {
          id
          derivedETH
          symbol
          decimals
        }
      }
    }
  }
`;const Rn=()=>{const{chainId:e}=P(),{blockClient:t,isEnableBlockService:n}=je(),l=ft().subtract(1,"day").startOf("minute").unix(),[u,m]=I.useState(void 0);return I.useEffect(()=>{(async()=>{const[x]=await Bt(n,t,[l],e);m(x==null?void 0:x.number)})()},[e,l,t,n]),{blockLast24h:u}};Ce`
  query topPools {
    pools(first: 500, orderBy: totalValueLockedUSD, orderDirection: desc, subgraphError: allow) {
      id
    }
  }
`;const Fn=Ce`
  query poolFees($block: Int!, $poolIds: [String]!) {
    pools(block: { number: $block }, where: { id_in: $poolIds }) {
      id
      feesUSD
    }
  }
`,On=()=>{const e=Kt.useDispatch(),{chainId:t}=P(),{elasticClient:n}=je(),s=Re(f=>{var x;return(x=f.elasticFarm[t||1])==null?void 0:x.farms}),{blockLast24h:l}=Rn(),[u,{data:m}]=Et(Fn,{client:n,fetchPolicy:"network-only"});I.useEffect(()=>{var f;if((f=m==null?void 0:m.pools)!=null&&f.length){const x=m.pools.reduce((b,d)=>({...b,[d.id]:Number(d.feesUSD)}),{});e(Ht({chainId:t,data:x}))}},[m,t,e]),I.useEffect(()=>{const f=s==null?void 0:s.map(x=>x.pools.map(b=>b.poolAddress.toLowerCase())).flat();l&&(f!=null&&f.length)&&u({variables:{block:Number(l),poolIds:f}})},[s,l,u,t])},_n=Ce`
  query getFarms {
    farms(first: 1000) {
      id
      farmingPools(
        orderBy: pid
        orderDirection: desc
        where: { pool_: { id_not: "0xf2057f0231bedcecf32436e3cd6b0b93c6675e0a" } }
      ) {
        id
        pid
        startTime
        endTime
        feeTarget
        rewardTokens(orderBy: priority, orderDirection: asc) {
          token {
            id
            symbol
            name
            decimals
          }
          priority
          amount
        }
        joinedPositions {
          id
          user
          pid
          liquidity
          position {
            id
            liquidity
            tickLower {
              tickIdx
            }
            tickUpper {
              tickIdx
            }
          }
        }
        pool {
          id
          feeTier
          tick
          totalValueLockedUSD
          liquidity
          feesUSD
          reinvestL
          sqrtPrice
          token0 {
            id
            symbol
            name
            decimals
          }
          token1 {
            id
            symbol
            name
            decimals
          }
        }
      }
    }
  }
`,Nn={loading:!1,farms:null,poolFeeLast24h:{}},Pn=({interval:e})=>{var b;const t=Tt(),{chainId:n}=P(),s=Re(d=>d.elasticFarm)[n||1]||Nn,{elasticClient:l}=je(),[u,{data:m,error:f}]=Et(_n,{client:l,fetchPolicy:"network-only"});I.useEffect(()=>{const d=(r=!1)=>{r&&t(oe({chainId:n,loading:!0}));try{u()}finally{r&&t(oe({chainId:n,loading:!1}))}};d(!0);const o=e?setInterval(()=>{d()},2e4):void 0;return()=>{o&&clearInterval(o)}},[e,n,u,t]),I.useEffect(()=>{f&&n&&(t(we({chainId:n,farms:[]})),t(oe({chainId:n,loading:!1})))},[f,t,n]);const x=(b=s==null?void 0:s.farms)==null?void 0:b.length;return I.useEffect(()=>{if(m!=null&&m.farms&&n&&!x){const d=m.farms.map(o=>({id:o.id,pools:o.farmingPools.map(r=>{const p=pe(r.pool.token0.id),i=pe(r.pool.token1.id),c=p===Ie[n].address?te[n]:new ne(n,p,Number(r.pool.token0.decimals),r.pool.token0.symbol.toLowerCase()==="mimatic"?"MAI":r.pool.token0.symbol,r.pool.token0.name),y=i===Ie[n].address?te[n]:new ne(n,i,Number(r.pool.token1.decimals),r.pool.token1.symbol.toLowerCase()==="mimatic"?"MAI":r.pool.token1.symbol,r.pool.token1.name),w=new vt(c.wrapped,y.wrapped,Number(r.pool.feeTier),r.pool.sqrtPrice,r.pool.liquidity,r.pool.reinvestL,Number(r.pool.tick));let g=ke.fromRawAmount(c.wrapped,0),T=ke.fromRawAmount(y.wrapped,0);return r.joinedPositions.forEach(k=>{if(k.position.liquidity!=="0"){const h=new St({pool:w,liquidity:k.liquidity,tickLower:Number(k.position.tickLower.tickIdx),tickUpper:Number(k.position.tickUpper.tickIdx)});g=g.add(h.amount0),T=T.add(h.amount1)}}),{startTime:Number(r.startTime),endTime:Number(r.endTime),pid:r.pid,id:r.id,feeTarget:r.feeTarget,token0:c,token1:y,poolAddress:r.pool.id,feesUSD:Number(r.pool.feesUSD),pool:w,poolTvl:Number(r.pool.totalValueLockedUSD),rewardTokens:r.rewardTokens.map(({token:k})=>k.id===Le?te[n]:new ne(n,k.id,Number(k.decimals),k.symbol,k.name)),totalRewards:r.rewardTokens.map(({token:k,amount:h})=>{const L=k.id===Le?te[n]:new ne(n,k.id,Number(k.decimals),k.symbol,k.name);return le.fromRawAmount(L,h)}),tvlToken0:g,tvlToken1:T}})}));t(we({chainId:n,farms:d}))}},[m,t,n,x]),null},Un=({})=>{const e=Tt(),{chainId:t}=P(),{data:n,isError:s,isLoading:l}=Yt.useGetFarmPoolsQuery(t);return I.useEffect(()=>{e(l?oe({chainId:t,loading:!0}):oe({chainId:t,loading:!1}))},[t,e,l]),I.useEffect(()=>{s&&t&&(e(we({chainId:t,farms:[]})),e(oe({chainId:t,loading:!1})))},[s,e,t]),I.useEffect(()=>{if(n&&t){const u={};n.forEach(f=>{const x=f.farm.id;u[x]||(u[x]={id:x,pools:[]}),u[x].pools.push(f)});const m=Object.values(u).map(({id:f,pools:x})=>{const b=x.map(d=>{const o=pe(d.pool.token0.id),r=pe(d.pool.token1.id),p=o===Ie[t].address?te[t]:new ne(t,o,Number(d.pool.token0.decimals),d.pool.token0.symbol.toLowerCase()==="mimatic"?"MAI":d.pool.token0.symbol,d.pool.token0.name),i=r===Ie[t].address?te[t]:new ne(t,r,Number(d.pool.token1.decimals),d.pool.token1.symbol.toLowerCase()==="mimatic"?"MAI":d.pool.token1.symbol,d.pool.token1.name),c=new vt(p.wrapped,i.wrapped,Number(d.pool.feeTier),d.pool.sqrtPrice,d.pool.liquidity,d.pool.reinvestL,Number(d.pool.tick)),y=ke.fromRawAmount(p.wrapped,0),w=ke.fromRawAmount(i.wrapped,0);return{startTime:Number(d.startTime),endTime:Number(d.endTime),pid:d.pid,id:d.id,feeTarget:d.feeTarget,token0:p,token1:i,poolAddress:d.pool.id,feesUSD:Number(d.pool.feesUsd),pool:c,poolTvl:Number(d.pool.totalValueLockedUsd),rewardTokens:d.rewardTokens.map(g=>g.id===Le?te[t]:new ne(t,g.id,Number(g.decimals),g.symbol,g.name)),totalRewards:d.rewardTokens.map((g,T)=>{const k=d.totalRewardAmounts[T],h=g.id===Le?te[t]:new ne(t,g.id,Number(g.decimals),g.symbol,g.name);return le.fromRawAmount(h,k)}),tvlToken0:y,tvlToken1:w,apr:Number(d.apr),poolAPR:Number(d.pool.apr),stakedTvl:Number(d.stakedTvl)}});return b.sort((d,o)=>d.pid===o.pid?0:d.pid<o.pid?1:-1),{id:f,pools:b}});e(we({chainId:t,farms:m}))}},[t,e,n]),null},Dn=({interval:e=!0})=>{const{isEnableKNProtocol:t}=je();return On(),t?a.jsx(Un,{interval:e}):a.jsx(Pn,{interval:e})},oa=Dn,Oe=()=>{const{chainId:e}=P(),t=Re(n=>n.elasticFarm[e]);return I.useMemo(()=>t||Qt,[t])},pa=()=>{var r;const{networkInfo:e}=P(),t=_e(),[n]=gt(),s=n.get("token0")||void 0,l=n.get("token1")||void 0,{farms:u,loading:m}=Oe(),x=n.get("type")||re.ACTIVE,b=((r=n.get("search"))==null?void 0:r.toLowerCase())||"",d=n.get("elasticType")||Se.ALL,o=I.useMemo(()=>{if(d===Se.STATIC)return[];const p=Date.now()/1e3;let i=u==null?void 0:u.map(y=>{const w=y.pools.filter(g=>x===re.MY_FARMS?!0:x===re.ACTIVE?g.endTime>=p:g.endTime<p);return{...y,pools:w}}).filter(y=>!!y.pools.length);const c=pe(b);if(c?i=i==null?void 0:i.map(y=>(y.pools=y.pools.filter(w=>[Ae({factoryAddress:e.elastic.coreFactory,tokenA:w.token0.wrapped,tokenB:w.token1.wrapped,fee:w.pool.fee,initCodeHashManualOverride:e.elastic.initCodeHash}),w.pool.token1.address,w.pool.token0.address].includes(c)),y)):i=i==null?void 0:i.map(y=>(y.pools=y.pools.filter(w=>{var g,T,k,h;return((g=w.token0.symbol)==null?void 0:g.toLowerCase().includes(b))||((T=w.token1.symbol)==null?void 0:T.toLowerCase().includes(b))||((k=w.token0.name)==null?void 0:k.toLowerCase().includes(b))||((h=w.token1.name)==null?void 0:h.toLowerCase().includes(b))}),y)),s||l)if(l&&s)i=i==null?void 0:i.map(y=>(y.pools=y.pools.filter(w=>w.token0.wrapped.address.toLowerCase()===s.toLowerCase()&&w.token1.wrapped.address.toLowerCase()===l.toLowerCase()||w.token1.wrapped.address.toLowerCase()===s.toLowerCase()&&w.token0.wrapped.address.toLowerCase()===l.toLowerCase()),y));else{const y=l||s;i=i==null?void 0:i.map(w=>(w.pools=w.pools.filter(g=>g.token0.wrapped.address.toLowerCase()===(y==null?void 0:y.toLowerCase())||g.token1.wrapped.address.toLowerCase()===(y==null?void 0:y.toLowerCase())),w))}return x===re.MY_FARMS&&(i=i==null?void 0:i.map(y=>{var T,k;if(!((T=t[y.id])!=null&&T.length))return{...y,pools:[]};const w=(k=t[y.id])==null?void 0:k.map(h=>Ae({factoryAddress:e.elastic.coreFactory,tokenA:h.pool.token0,tokenB:h.pool.token1,fee:h.pool.fee,initCodeHashManualOverride:e.elastic.initCodeHash}).toLowerCase()),g=y.pools.filter(h=>w.includes(h.poolAddress.toLowerCase()));return{...y,pools:g}})),(i==null?void 0:i.filter(y=>!!y.pools.length))||[]},[u,b,x,t,e,s,l,d]);return{farms:u,loading:m,filteredFarms:o}},ue=(e,t,n)=>{var l;return(l=e[0])!=null&&l.amount0?{pairs:e.map((u,m)=>{const{amount0:f,amount1:x}=u;return{tokenAddressIn:f.currency.address,tokenAddressOut:x.currency.address,tokenSymbolIn:f.currency.symbol??"",tokenSymbolOut:x.currency.symbol??"",tokenAmountIn:f.toSignificant(6),tokenAmountOut:x.toSignificant(6),poolAddress:t[m],nftId:n[m]}})}:{pairs:[]}},da=e=>{const t=He(),n=ht(e),s=xt(),l=bt(),u=I.useCallback(async()=>{if(!s)throw new Error(B);try{const p=await s.estimateGas.setApprovalForAll(e,!0),i=await s.setApprovalForAll(e,!0,{gasLimit:_(p)});return t({hash:i.hash,type:D.APPROVE,extraInfo:{summary:"Elastic Farm",contract:e}}),i.hash}catch(p){const i=Q(p);l({title:v._({id:"QO6Vd+"}),summary:i,type:J.ERROR},8e3)}},[t,e,s,l]),m=I.useCallback(async(p,i)=>{const c=p.map(y=>y.tokenId);if(!n)throw new Error(B);try{const y=await n.estimateGas.deposit(c),w=await n.deposit(c,{gasLimit:_(y)});return t({hash:w.hash,type:D.ELASTIC_DEPOSIT_LIQUIDITY,extraInfo:ue(i,p.map(g=>g.poolId),p.map(g=>g.tokenId.toString()))}),w.hash}catch(y){const w=Q(y);l({title:v._({id:"MwUuFd"}),summary:w,type:J.ERROR},8e3)}},[t,n,l]),f=I.useCallback(async(p,i)=>{if(!n)throw new Error(B);try{const c=p.map(g=>g.tokenId),y=await n.estimateGas.withdraw(c),w=await n.withdraw(c,{gasLimit:_(y)});return t({hash:w.hash,type:D.ELASTIC_WITHDRAW_LIQUIDITY,extraInfo:ue(i,p.map(g=>g.poolId),p.map(g=>g.tokenId.toString()))}),w.hash}catch(c){const y=Q(c);l({title:v._({id:"RrNfOm"}),summary:y,type:J.ERROR},8e3)}},[t,n,l]),x=I.useCallback(async p=>{if(!n)throw new Error(B);try{const i=await n.estimateGas.emergencyWithdraw(p),c=await n.emergencyWithdraw(p,{gasLimit:_(i)});return t({hash:c.hash,type:D.ELASTIC_FORCE_WITHDRAW_LIQUIDITY,extraInfo:{contract:e}}),c.hash}catch(i){const c=Q(i);l({title:v._({id:"RrNfOm"}),summary:c,type:J.ERROR},8e3)}},[t,n,e,l]),b=I.useCallback(async(p,i)=>{if(!n)throw new Error(B);try{const c=i.map(g=>g.nftId),y=await n.estimateGas.depositAndJoin(p,c),w=await n.depositAndJoin(p,c,{gasLimit:_(y)});return t({hash:w.hash,type:D.STAKE,extraInfo:ue(i.map(g=>g.position),i.map(g=>g.poolAddress),c.map(g=>g.toString()))}),w.hash}catch(c){const y=Q(c);l({title:v._({id:"MwUuFd"}),summary:y,type:J.ERROR},8e3)}},[t,n,l]),d=I.useCallback(async(p,i)=>{if(!n)throw new Error(B);try{const c=i.map(T=>T.nftId),y=i.map(T=>K.from(T.position.liquidity.toString())),w=await n.estimateGas.join(p,c,y),g=await n.join(p,c,y,{gasLimit:_(w)});return t({hash:g.hash,type:D.STAKE,extraInfo:ue(i.map(T=>T.position),i.map(T=>T.poolAddress),c.map(T=>T.toString()))}),g.hash}catch(c){const y=Q(c);l({title:v._({id:"o9krZ7"}),summary:y,type:J.ERROR},8e3)}},[t,n,l]),o=I.useCallback(async(p,i)=>{if(!n)throw new Error(B);try{const c=i.map(T=>T.nftId),y=i.map(T=>K.from(T.stakedLiquidity)),w=await n.estimateGas.exit(p,c,y),g=await n.exit(p,c,y,{gasLimit:_(w)});return t({hash:g.hash,type:D.UNSTAKE,extraInfo:ue(i.map(T=>T.position),i.map(T=>T.poolAddress),c.map(T=>T.toString()))}),g.hash}catch(c){const y=Q(c);l({title:v._({id:"VaBw1R"}),summary:y,type:J.ERROR},8e3)}},[t,n,l]),r=I.useCallback(async(p,i,c,y)=>{var g,T,k,h;if(!n)return;const w=i.map(L=>Ke.encode(["tupple(uint256[] pIds)"],[{pIds:[L]}]));try{const L=await n.estimateGas.harvestMultiplePools(p,w),E=await n.harvestMultiplePools(p,w,{gasLimit:_(L)}),A={tokenAddressIn:(g=c==null?void 0:c.token0)==null?void 0:g.wrapped.address,tokenAddressOut:(T=c==null?void 0:c.token1)==null?void 0:T.wrapped.address,tokenSymbolIn:(k=c==null?void 0:c.token0)==null?void 0:k.symbol,tokenSymbolOut:(h=c==null?void 0:c.token1)==null?void 0:h.symbol,contract:c==null?void 0:c.id,rewards:(y==null?void 0:y.map(R=>({tokenSymbol:R.currency.symbol??"",tokenAmount:R.toSignificant(6),tokenAddress:R.currency.wrapped.address})))??[]};return t({hash:E.hash,type:D.HARVEST,extraInfo:A}),E}catch(L){const E=Q(L);l({title:v._({id:"7q1oLX"}),summary:E,type:J.ERROR},8e3)}},[t,n,l]);return{deposit:m,withdraw:f,approve:u,stake:d,unstake:o,harvest:r,emergencyWithdraw:x,depositAndJoin:b}},ua=(e,t,n=!1)=>{const[s,l]=I.useState("all"),u=I.useMemo(()=>[{code:"in_rage",value:v._({id:"vOyUlD"})},{code:"out_range",value:v._({id:"i3Z+/Z"})},{code:"all",value:v._({id:"fIw9Gf"})}],[]),m=I.useMemo(()=>e?e==null?void 0:e.map(o=>[o.token0,o.token1]).flat():[],[e]),f=Vt(m),x=I.useMemo(()=>f?e==null?void 0:e.map(o=>[f[o.token0],f[o.token1],o.fee]):[],[f,e]),b=In(x),d=I.useMemo(()=>e==null?void 0:e.filter(o=>t==null?void 0:t.includes(o.poolId.toLowerCase())).filter(o=>{if(!n&&o.liquidity.eq(0))return!1;const r=b.find(p=>{var i,c,y;return((i=p[1])==null?void 0:i.token0.address.toLowerCase())===o.token0.toLowerCase()&&((c=p[1])==null?void 0:c.token1.address.toLowerCase())===o.token1.toLowerCase()&&((y=p[1])==null?void 0:y.fee)===o.fee});return s==="out_range"?r&&r[1]?r[1].tickCurrent<o.tickLower||r[1].tickCurrent>o.tickUpper:!0:s==="in_rage"&&r&&r[1]?r[1].tickCurrent>=o.tickLower&&r[1].tickCurrent<=o.tickUpper:!0}),[e,t,s,b,n]);return{activeFilter:s,setActiveFilter:l,eligiblePositions:d,filterOptions:u}},Me=new yt.Interface(qt);function _e(){const{farms:e}=Oe(),t=I.useMemo(()=>(e==null?void 0:e.map(b=>b.id))||[],[e]),{account:n}=P(),s=I.useMemo(()=>[n],[n]),l=I.useMemo(()=>({blocksPerFetch:40}),[]),u=Jt(t,Me,"getDepositedNFTs",s,l),m=I.useMemo(()=>{const b={};return u.forEach((d,o)=>{var r;b[t[o]]=((r=d.result)==null?void 0:r.listNFTs)||[]}),b},[u,t]),f=I.useMemo(()=>Object.values(m).flat(),[m]),{positions:x=[]}=Qe(f);return I.useMemo(()=>{const b={};return t.forEach(d=>{const{pools:o}=(e==null?void 0:e.find(r=>r.id===d))||{};b[d]=(m[d]||[]).map(r=>{var c;const p=x.find(y=>y.tokenId.toString()===r.toString()),i=(c=o==null?void 0:o.find(y=>y.poolAddress.toLowerCase()===(p==null?void 0:p.poolId.toLowerCase())))==null?void 0:c.pool;return!i||!p?null:new At({nftId:r,pool:i,liquidity:p.liquidity.toString(),tickLower:p.tickLower,tickUpper:p.tickUpper})}).filter(r=>r!==null)}),b},[e,x,m,t])}function la(e){const t=_e();return I.useMemo(()=>t[e]||[],[t,e])}const dt=Me.getFunction("getUserInfo");function Mt(){const e=_e(),{farms:t}=Oe(),n=I.useMemo(()=>(t||[]).map(f=>{const x=[];return(e[f.id]||[]).forEach(d=>{const o=jn(d.pool);f.pools.filter(p=>p.poolAddress.toLowerCase()===o.toLowerCase()).forEach(p=>{d.liquidity.toString()!=="0"&&x.push({address:f.id,callData:Me.encodeFunctionData(dt,[d.nftId,p.pid]),pid:p.pid.toString(),pos:d})})}),x}),[t,e]),s=I.useMemo(()=>({blocksPerFetch:30}),[]),l=I.useMemo(()=>n.flat(),[n]),u=Xt(l,s),m=I.useMemo(()=>u.map(f=>Zt(f,Me,dt)),[u]);return I.useMemo(()=>{const f={};return t==null||t.forEach((x,b)=>{const d={},o={},r={},p=b===0?0:n.slice(0,b+1).reduce((y,w)=>y+w.length,0),i=p+n[b].length,c=m.slice(p,i);n[b].forEach((y,w)=>{var k;const g=y.pid.toString(),T=y.pos.nftId;if(c[w].result){d[g]||(d[g]=[]);const h=e[x.id].find(E=>E.nftId.eq(T)),L=x.pools.find(E=>E.pid===g);if(h&&L){const E=new At({nftId:T,liquidity:(k=c[w].result)==null?void 0:k.liquidity,tickLower:h.tickLower,tickUpper:h.tickUpper,pool:h.pool});d[g].push(E);const A=`${g}_${T.toString()}`;r[A]||(r[A]=[]),o[g]||(o[g]=[]),L.rewardTokens.forEach((R,F)=>{var H;const Z=le.fromRawAmount(R,(H=c[w].result)==null?void 0:H.rewardPending[F]);r[A][F]=Z,o[g][F]?o[g][F]=o[g][F].add(Z):o[g][F]=Z,o[g][F]=le.fromRawAmount(R,0),r[A][F]=le.fromRawAmount(R,0)})}}}),f[x.id]={joinedPositions:d,rewardPendings:o,rewardByNft:r}}),f},[m,n,t,e])}function ca(e){const t=Mt();return I.useMemo(()=>t[e]||{},[t,e])}function Qe(e,t,n,s){const l=Ye(t),{networkInfo:u}=P(),m=I.useMemo(()=>e?e.map(o=>[o]):[],[e]),f=wt(l,"positions",m),x=I.useMemo(()=>f.some(({loading:o})=>o),[f]),b=I.useMemo(()=>f.some(({error:o})=>o),[f]),d=I.useMemo(()=>{if(!x&&!b&&e)return f.map((o,r)=>{const p=e[r],i=o.result;return{tokenId:p,poolId:tn(n||u.elastic.coreFactory,mt(["bytes"],[Ke.encode(["address","address","uint24"],[i.info.token0,i.info.token1,i.info.fee])]),s||u.elastic.initCodeHash),feeGrowthInsideLast:i.pos.feeGrowthInsideLast,nonce:i.pos.nonce,liquidity:i.pos.liquidity,operator:i.pos.operator,tickLower:i.pos.tickLower,tickUpper:i.pos.tickUpper,rTokenOwed:i.pos.rTokenOwed,fee:i.info.fee,token0:i.info.token0,token1:i.info.token1}})},[x,b,f,e,u,s,n]);return I.useMemo(()=>({loading:x,positions:d==null?void 0:d.map((o,r)=>({...o,tokenId:m[r][0]}))}),[x,d,m])}function ya(e){var n;const t=Qe(e?[e]:void 0);return{loading:t.loading,position:(n=t.positions)==null?void 0:n[0]}}function ma(e,t,n,s){var i;const l=Ye(t),{loading:u,result:m}=en(l,"balanceOf",[e??void 0]),f=(i=m==null?void 0:m[0])==null?void 0:i.toNumber(),x=I.useMemo(()=>{if(f&&e){const c=[];for(let y=0;y<f;y++)c.push([e,y]);return c}return[]},[e,f]),b=wt(l,"tokenOfOwnerByIndex",x),d=I.useMemo(()=>b.some(({loading:c})=>c),[b]),o=I.useMemo(()=>e?b.map(({result:c})=>c).filter(c=>!!c).map(c=>K.from(c[0])):[],[e,b]),{positions:r,loading:p}=Qe(o,t,n,s);return I.useMemo(()=>({loading:d||u||p,positions:r}),[d,u,p,r])}const fa=()=>{const{networkInfo:e}=P(),{farms:t,loading:n}=Oe(),s=Mt(),l=_e(),u=I.useMemo(()=>(t==null?void 0:t.map(f=>f.pools).flat())||[],[t]),m=I.useMemo(()=>Object.values(l).flat().map(f=>{var o;const x=Ae({factoryAddress:e.elastic.coreFactory,tokenA:f.pool.token0,tokenB:f.pool.token1,fee:f.pool.fee,initCodeHashManualOverride:e.elastic.initCodeHash}),b=u.filter(r=>r.poolAddress.toLowerCase()===x.toLowerCase()),d=Object.values(s).map(r=>Object.values(r.joinedPositions).flat()).flat().filter(r=>r.nftId.toString()===f.nftId.toString()).reduce((r,p)=>r.gt(K.from(p.liquidity.toString()))?r:K.from(p.liquidity.toString()),K.from(0));return{nonce:K.from("1"),tokenId:f.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:x,tickLower:f.tickLower,tickUpper:f.tickUpper,liquidity:K.from(f.liquidity.toString()),feeGrowthInsideLast:K.from(0),stakedLiquidity:d,rTokenOwed:K.from(0),token0:f.pool.token0.address,token1:f.pool.token1.address,fee:f.pool.fee,endTime:(o=b==null?void 0:b[0])==null?void 0:o.endTime,rewardPendings:[]}}),[u,e,s,l]);return I.useMemo(()=>({farms:t,userFarmInfo:s,farmPositions:m,loading:n}),[n,m,t,s])};var ye;(function(e){e.DEFAULT="DEFAULT",e.NEGATIVE="NEGATIVE",e.POSITIVE="POSITIVE",e.PRIMARY="PRIMARY",e.WARNING="WARNING",e.WARNING_OUTLINE="WARNING_OUTLINE"})(ye||(ye={}));function Wn(e,t){switch(e){case"NEGATIVE":return t.red+"33";case"POSITIVE":return t.green1;case"PRIMARY":return t.primary+"33";case"WARNING":return t.warning+"33";case"WARNING_OUTLINE":return"transparent";default:return t.background}}function zn(e,t){switch(e){case"WARNING_OUTLINE":return`1px solid ${t.warning}`;default:return"unset"}}function Gn(e,t){switch(e){case"NEGATIVE":return t.red;case"POSITIVE":return tt(t.green1);case"WARNING":return t.warning;case"PRIMARY":return t.primary;case"WARNING_OUTLINE":return t.warning;default:return tt(t.bg2)}}const We=U.div`
  align-items: center;
  background-color: ${({theme:e,variant:t})=>Wn(t,e)};
  border: ${({theme:e,variant:t})=>zn(t,e)};
  border-radius: 999px;
  color: ${({theme:e,variant:t})=>Gn(t,e)};
  display: inline-flex;
  padding: 4px 8px;
  justify-content: center;
  font-weight: 500;
`,$n=U.div`
  font-size: 12px;
  display: flex;
  justify-content: flex-end;
`,ze=U.div`
  font-weight: 500;
  font-size: 12px;
  white-space: nowrap;
`;function Bn({removed:e,inRange:t,hideText:n=!1,size:s=16}){const l=Fe();return a.jsx($n,{children:e?a.jsx(ce,{text:a.jsx(C,{id:"MJqcwq"}),children:a.jsxs(We,{variant:ye.NEGATIVE,style:{padding:n?"4px":void 0},children:[a.jsx(An,{width:s,height:s}),!n&&a.jsxs(a.Fragment,{children:[" ",a.jsx(ze,{children:a.jsx(C,{id:"D87pha"})})]})]})}):t?a.jsx(ce,{text:a.jsx(C,{id:"aIvv/z"}),children:a.jsxs(We,{variant:ye.PRIMARY,style:{padding:n?"4px":void 0},children:[a.jsx(nt,{size:s,color:l.primary}),!n&&a.jsxs(a.Fragment,{children:[" ",a.jsx(ze,{children:a.jsx(C,{id:"vOyUlD"})})]})]})}):a.jsx(ce,{text:a.jsx(C,{id:"naWoXa"}),children:a.jsxs(We,{variant:ye.WARNING,style:{padding:n?"4px":void 0},children:[a.jsx(nt,{size:s,color:l.warning}),!n&&a.jsxs(a.Fragment,{children:[" ",a.jsx(ze,{children:a.jsx(C,{id:"i3Z+/Z"})})]})]})})})}const Kn="/assets/card-background-6d7de9f0.png",Ta=U.div`
  margin: 1.5rem;
  border-radius: 20px;
  overflow: hidden;
  background: ${({theme:e})=>e.buttonBlack};

  ${({theme:e})=>e.mediaWidth.upToExtraSmall`
    margin: 1.5rem 1rem;
  `}

  ${({gridMode:e})=>e&&It`
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 24px;
      background: ${({theme:t})=>t.background};

      ${({theme:t})=>t.mediaWidth.upToLarge`
        grid-template-columns: repeat(2, minmax(0, 1fr));
      `};

      ${({theme:t})=>t.mediaWidth.upToSmall`
        grid-template-columns: 1fr;
      `};
    `}
`,Hn=U.div`
  min-width: max-content;
  width: max-content;
  border-radius: 999px;
  background: ${({theme:e})=>e.darkBlue+"33"};
  color: ${({theme:e})=>e.darkBlue};
  font-size: 12px;
  font-weight: 500;
  padding: 2px 6px;
  margin-left: 6px;
  display: flex;
  align-items: center;
  gap: 4px;
  height: 20px;
`,ga=U.div`
  border: 1px solid ${({theme:e})=>e.border};
  border-radius: 12px;
  padding: 12px;
  background: ${({theme:e})=>ve(e.background,.5)};
  width: 100%;
  font-size: 14px;
  line-height: 20px;
`,ha=U.div`
  background-color: ${({theme:e,isOpen:t})=>t?e.buttonGray:e.buttonBlack};
  :not(:last-child) {
    border-bottom: 1px solid ${({theme:e})=>e.border+"80"};
  }
`,xa=U.div`
  display: grid;
  flex: 1;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  gap: 12px;
  padding: 0 12px 12px;
`,ba=U.div`
  border-radius: 20px;
  padding: 16px;
  width: 100%;
  min-height: 380px;
  background-color: ${({theme:e})=>e.buttonBlack};

  ${({joined:e=!0})=>e&&It`
      background-image: ${({theme:t})=>`url(${Kn}),
        linear-gradient(to right, ${ve(t.apr,.12)}, ${ve(t.apr,.12)}),
        linear-gradient(to right, ${t.buttonBlack}, ${t.buttonBlack})`};

      background-size: cover, cover, cover;
      background-repeat: no-repeat, no-repeat, no-repeat;
    `}
  position: relative;
  transition: transform 0.6s;
  transform-style: preserve-3d;

  transform: rotateY(${({flip:e})=>e?"-180deg":"0"});
`,wa=U.div`
  display: flex;
  height: 100%;
  flex-direction: column;
  backface-visibility: hidden;
`,Ia=U.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  backface-visibility: hidden;
  transform: rotateY(180deg);
`,ka=U(kt)`
  background: ${({color:e})=>e+"33"};
  color: ${({color:e})=>e};
  height: 36px;
  font-size: 12px;
  gap: 4px;
  width: fit-content;
  padding: 10px 12px;

  &:hover {
    background-color: ${({color:e,disabled:t})=>!t&&Ue(.03,`${e}33`)};
  }
  &:active {
    box-shadow: 0 0 0 1pt ${({color:e,disabled:t})=>!t&&Ue(.05,`${e}33`)};
    background-color: ${({color:e,disabled:t})=>!t&&Ue(.05,`${e}33`)};
  }
  :disabled {
    cursor: not-allowed;
    background-color: ${({theme:e})=>`${e.buttonGray}`};
    color: ${({theme:e})=>e.border};
    box-shadow: none;
    border: 1px solid transparent;
    outline: none;
  }
`,La=U.div`
  align-self: flex-end;
  align-items: center;
  color: ${({theme:e,inrange:t})=>t?e.primary:e.warning};
  padding: 3px 4px;
  gap: 4px;
  font-size: 12px;
  font-weight: 500;
  display: flex;
  border-radius: 999px;
  background: ${({theme:e,inrange:t})=>ve(t?e.primary:e.warning,.3)};
`,Ct=[{inputs:[{internalType:"contract IERC721",name:"_nft",type:"address"},{internalType:"contract IKSElasticLMHelper",name:"_helper",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"EmergencyEnabled",type:"error"},{inputs:[],name:"Expired",type:"error"},{inputs:[],name:"FailToAdd",type:"error"},{inputs:[],name:"FailToRemove",type:"error"},{inputs:[],name:"FarmNotFound",type:"error"},{inputs:[],name:"Forbidden",type:"error"},{inputs:[],name:"InvalidFarm",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"InvalidRange",type:"error"},{inputs:[],name:"InvalidReward",type:"error"},{inputs:[],name:"InvalidTime",type:"error"},{inputs:[],name:"LiquidityNotMatch",type:"error"},{inputs:[],name:"NotOwner",type:"error"},{inputs:[],name:"PhaseSettled",type:"error"},{inputs:[],name:"PositionNotEligible",type:"error"},{inputs:[],name:"RangeNotFound",type:"error"},{inputs:[],name:"RangeNotMatch",type:"error"},{inputs:[],name:"StakeNotFound",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"},{indexed:!1,internalType:"address",name:"poolAddress",type:"address"},{components:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint32",name:"weight",type:"uint32"}],indexed:!1,internalType:"struct IKSElasticLMV2.RangeInput[]",name:"ranges",type:"tuple[]"},{components:[{internalType:"uint32",name:"startTime",type:"uint32"},{internalType:"uint32",name:"endTime",type:"uint32"},{components:[{internalType:"address",name:"rewardToken",type:"address"},{internalType:"uint256",name:"rewardAmount",type:"uint256"}],internalType:"struct IKSElasticLMV2.RewardInput[]",name:"rewards",type:"tuple[]"}],indexed:!1,internalType:"struct IKSElasticLMV2.PhaseInput",name:"phase",type:"tuple"},{indexed:!1,internalType:"address",name:"farmingToken",type:"address"}],name:"AddFarm",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"},{components:[{internalType:"uint32",name:"startTime",type:"uint32"},{internalType:"uint32",name:"endTime",type:"uint32"},{components:[{internalType:"address",name:"rewardToken",type:"address"},{internalType:"uint256",name:"rewardAmount",type:"uint256"}],internalType:"struct IKSElasticLMV2.RewardInput[]",name:"rewards",type:"tuple[]"}],indexed:!1,internalType:"struct IKSElasticLMV2.PhaseInput",name:"phase",type:"tuple"}],name:"AddPhase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"},{components:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint32",name:"weight",type:"uint32"}],indexed:!1,internalType:"struct IKSElasticLMV2.RangeInput",name:"range",type:"tuple"}],name:"AddRange",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fId",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"nftIds",type:"uint256[]"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"receiver",type:"address"}],name:"ClaimReward",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rangeId",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"nftIds",type:"uint256[]"},{indexed:!0,internalType:"address",name:"depositer",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"duration",type:"uint256"},{indexed:!1,internalType:"uint256[]",name:"rewardAmounts",type:"uint256[]"}],name:"ExpandEndTimeAndRewards",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"}],name:"ForceClosePhase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rangeId",type:"uint256"}],name:"RemoveRange",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"}],name:"TransferAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enableOrDisable",type:"bool"}],name:"UpdateEmergency",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IKSElasticLMHelper",name:"helper",type:"address"}],name:"UpdateHelper",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"}],name:"UpdateLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"bool",name:"grantOrRevoke",type:"bool"}],name:"UpdateOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"farmingTokenCode",type:"bytes"}],name:"UpdateTokenCode",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[]",name:"nftIds",type:"uint256[]"},{indexed:!1,internalType:"address",name:"receiver",type:"address"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"nftId",type:"uint256"},{indexed:!1,internalType:"address",name:"receiver",type:"address"}],name:"WithdrawEmergency",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"receiver",type:"address"}],name:"WithdrawUnusedRewards",type:"event"},{inputs:[{internalType:"address",name:"poolAddress",type:"address"},{components:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint32",name:"weight",type:"uint32"}],internalType:"struct IKSElasticLMV2.RangeInput[]",name:"ranges",type:"tuple[]"},{components:[{internalType:"uint32",name:"startTime",type:"uint32"},{internalType:"uint32",name:"endTime",type:"uint32"},{components:[{internalType:"address",name:"rewardToken",type:"address"},{internalType:"uint256",name:"rewardAmount",type:"uint256"}],internalType:"struct IKSElasticLMV2.RewardInput[]",name:"rewards",type:"tuple[]"}],internalType:"struct IKSElasticLMV2.PhaseInput",name:"phase",type:"tuple"},{internalType:"bool",name:"isUsingToken",type:"bool"}],name:"addFarm",outputs:[{internalType:"uint256",name:"fId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{internalType:"uint256",name:"rangeId",type:"uint256"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{components:[{internalType:"uint32",name:"startTime",type:"uint32"},{internalType:"uint32",name:"endTime",type:"uint32"},{components:[{internalType:"address",name:"rewardToken",type:"address"},{internalType:"uint256",name:"rewardAmount",type:"uint256"}],internalType:"struct IKSElasticLMV2.RewardInput[]",name:"rewards",type:"tuple[]"}],internalType:"struct IKSElasticLMV2.PhaseInput",name:"phaseInput",type:"tuple"}],name:"addPhase",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{components:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint32",name:"weight",type:"uint32"}],internalType:"struct IKSElasticLMV2.RangeInput",name:"range",type:"tuple"}],name:"addRange",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bool",name:"isReceiveNative",type:"bool"}],name:"claimFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],name:"claimReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{internalType:"uint256",name:"rangeId",type:"uint256"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"},{internalType:"address",name:"receiver",type:"address"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"farmCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"}],name:"forceClosePhase",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getDepositedNFTs",outputs:[{internalType:"uint256[]",name:"listNFTs",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"}],name:"getFarm",outputs:[{internalType:"address",name:"poolAddress",type:"address"},{components:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint32",name:"weight",type:"uint32"},{internalType:"bool",name:"isRemoved",type:"bool"}],internalType:"struct IKSElasticLMV2.RangeInfo[]",name:"ranges",type:"tuple[]"},{components:[{internalType:"uint32",name:"startTime",type:"uint32"},{internalType:"uint32",name:"endTime",type:"uint32"},{internalType:"bool",name:"isSettled",type:"bool"},{components:[{internalType:"address",name:"rewardToken",type:"address"},{internalType:"uint256",name:"rewardAmount",type:"uint256"}],internalType:"struct IKSElasticLMV2.RewardInput[]",name:"rewards",type:"tuple[]"}],internalType:"struct IKSElasticLMV2.PhaseInfo",name:"phase",type:"tuple"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"address",name:"farmingToken",type:"address"},{internalType:"uint256[]",name:"sumRewardPerLiquidity",type:"uint256[]"},{internalType:"uint32",name:"lastTouchedTime",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNft",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nftId",type:"uint256"}],name:"getStake",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"fId",type:"uint256"},{internalType:"uint256",name:"rangeId",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256[]",name:"lastSumRewardPerLiquidity",type:"uint256[]"},{internalType:"uint256[]",name:"rewardUnclaimed",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"operators",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nftId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bool",name:"isClaimFee",type:"bool"},{internalType:"bool",name:"isReceiveNative",type:"bool"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{internalType:"uint256",name:"rangeId",type:"uint256"}],name:"removeRange",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_admin",type:"address"}],name:"transferAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"enableOrDisable",type:"bool"}],name:"updateEmergency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IKSElasticLMHelper",name:"_helper",type:"address"}],name:"updateHelper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"bool",name:"grantOrRevoke",type:"bool"}],name:"updateOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_farmingTokenCreationCode",type:"bytes"}],name:"updateTokenCode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"fId",type:"uint256"},{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"nftIds",type:"uint256[]"}],name:"withdrawEmergency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],name:"withdrawUnusedRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Je=()=>{const{chainId:e}=P();return Re(n=>n.elasticFarmV2[e]||nn)||{}},Sa=(e,t)=>{const{userInfo:n}=Je();return I.useMemo(()=>(n==null?void 0:n.filter(s=>s.fId===t&&s.farmAddress===e&&(s.liquidity.toString()!=="0"||s.unclaimedRewards.some(l=>l.greaterThan("0")))))||[],[t,n,e])};var ut;(function(e){e.FID="fId",e.STAKED_TVL="staked_tvl",e.APR="apr",e.END_TIME="end_time",e.MY_DEPOSIT="my_deposit",e.MY_REWARD="my_reward"})(ut||(ut={}));const va=e=>{var y,w;const[t]=gt(),{farms:n,userInfo:s,loading:l}=Je(),m=t.get("type")||re.ACTIVE,f=((y=t.get("search"))==null?void 0:y.toLowerCase())||"",x=((w=t.get("elasticType"))==null?void 0:w.toLowerCase())||Se.ALL,b=t.get("token0")||void 0,d=t.get("token1")||void 0,o=t.get("orderBy")||"my_deposit",r=t.get("orderDirection")||se.DESC,[p]=an("elasticFarmV2LastUpdatedTimeStamp",null),i=I.useMemo(()=>n==null?void 0:n.filter(T=>{if((T==null?void 0:T.endTime)<Date.now()/1e3||T!=null&&T.isSettled||!(s==null?void 0:s.find(E=>E.fId===T.fId)))return!1;const h=p?+p:Math.min(...T.ranges.map(E=>E.updatedAt));return!!T.ranges.filter(E=>E.updatedAt>h).length}).map(T=>{const k=p||Math.min(...T.ranges.map(h=>h.updatedAt));return{...T,ranges:T.ranges.filter(h=>h.updatedAt>k)}}),[n,p,s]);return{filteredFarms:I.useMemo(()=>{if(x===Se.DYNAMIC)return[];const g=Date.now()/1e3;let T=n==null?void 0:n.filter(h=>m===re.MY_FARMS?s==null?void 0:s.some(L=>L.poolAddress.toLowerCase()===h.poolAddress.toLowerCase()&&+L.fId==+h.fId):m===re.ACTIVE?h.endTime>=g&&!h.isSettled:h.endTime<g||h.isSettled);e&&(T=T==null?void 0:T.filter(h=>h.farmAddress===e));const k=pe(f);if(k?T=T==null?void 0:T.filter(h=>[h.poolAddress,h.token0.wrapped.address,h.token1.wrapped.address].map(L=>L.toLowerCase()).includes(k.toLowerCase())):T=T==null?void 0:T.filter(h=>{var L,E,A,R;return((L=h.token0.symbol)==null?void 0:L.toLowerCase().includes(f))||((E=h.token1.symbol)==null?void 0:E.toLowerCase().includes(f))||((A=h.token0.name)==null?void 0:A.toLowerCase().includes(f))||((R=h.token1.name)==null?void 0:R.toLowerCase().includes(f))}),b||d)if(d&&b)T=T==null?void 0:T.filter(h=>h.token0.wrapped.address.toLowerCase()===b.toLowerCase()&&h.token1.wrapped.address.toLowerCase()===d.toLowerCase()||h.token0.wrapped.address.toLowerCase()===d.toLowerCase()&&h.token1.wrapped.address.toLowerCase()===b.toLowerCase());else{const h=d||b;T=T==null?void 0:T.filter(L=>L.token0.wrapped.address.toLowerCase()===(h==null?void 0:h.toLowerCase())||L.token1.wrapped.address.toLowerCase()===(h==null?void 0:h.toLowerCase()))}return(T||[]).sort((h,L)=>{const E=h.ranges.reduce((M,O)=>M>(O.apr||0)?M:O.apr||0,0),A=L.ranges.reduce((M,O)=>M>(O.apr||0)?M:O.apr||0,0),R=(s==null?void 0:s.filter(M=>M.fId===h.fId).reduce((M,O)=>O.stakedUsdValue+M,0))||0,F=(s==null?void 0:s.filter(M=>M.fId===L.fId).reduce((M,O)=>O.stakedUsdValue+M,0))||0,Z=(s==null?void 0:s.filter(M=>M.fId===h.fId).reduce((M,O)=>O.unclaimedRewardsUsd+M,0))||0,H=(s==null?void 0:s.filter(M=>M.fId===L.fId).reduce((M,O)=>O.unclaimedRewardsUsd+M,0))||0;switch(o){case"staked_tvl":return r===se.DESC?L.tvl-h.tvl:h.tvl-L.tvl;case"end_time":return r===se.DESC?L.endTime-h.endTime:h.endTime-L.endTime;case"apr":return r===se.DESC?A-E:E-A;case"my_deposit":return r===se.DESC?F-R:R-F;case"my_reward":return r===se.DESC?H-Z:Z-H;default:return r===se.DESC?A-E:E-A}})},[r,o,s,n,m,b,d,f,x,e]),farms:n,userInfo:s,loading:l,updatedFarms:i}},Ea=e=>{const{account:t}=P(),n=He(),s=Ge(e,Ct),l=xt(),u=bt(),m=I.useCallback(async()=>{if(!l)throw new Error(B);try{const o=await l.estimateGas.setApprovalForAll(e,!0),r=await l.setApprovalForAll(e,!0,{gasLimit:_(o)});return n({hash:r.hash,type:D.APPROVE,extraInfo:{summary:"Elastic Static Farm",contract:e}}),r.hash}catch(o){const r=Q(o);u({title:v._({id:"RrSxzV"}),summary:r,type:J.ERROR},8e3)}},[l,e,n,u]),f=I.useCallback(async(o,r,p)=>{if(!s)throw new Error(B);try{const i=await s.estimateGas.deposit(o,r,p,t),c=await s.deposit(o,r,p,t,{gasLimit:_(i)});return n({hash:c.hash,type:D.ELASTIC_DEPOSIT_LIQUIDITY}),c.hash}catch(i){throw i}},[s,n,t]),x=I.useCallback(async(o,r,p)=>{if(!s)throw new Error(B);try{const i=await s.estimateGas.addLiquidity(o,r,p),c=await s.addLiquidity(o,r,p,{gasLimit:_(i)});return n({hash:c.hash,type:D.ELASTIC_DEPOSIT_LIQUIDITY}),c.hash}catch(i){throw i}},[n,s]),b=I.useCallback(async(o,r)=>{if(!s)throw new Error(B);try{const p=await s.estimateGas.withdraw(o,r),i=await s.withdraw(o,r,{gasLimit:_(p)});return n({hash:i.hash,type:D.ELASTIC_WITHDRAW_LIQUIDITY}),i.hash}catch(p){throw p}},[n,s]),d=I.useCallback(async(o,r)=>{if(!s)throw new Error("Farm contract doesn't exist");try{const p=await s.estimateGas.claimReward(o,r),i=await s.claimReward(o,r,{gasLimit:_(p)});return n({hash:i.hash,type:D.HARVEST}),i.hash}catch(p){throw p}},[n,s]);return{approve:m,deposit:f,withdraw:b,harvest:d,updateLiquidity:x}},Yn=U.div`
  border-radius: 999px;
  padding: ${({padding:e})=>e};
  height: 20px;
  background: ${({theme:e})=>sn(.7,e.primary)};
  color: ${({theme:e})=>e.primary};
  font-size: 12px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 4px;
`,qn=({address:e,noTooltip:t,noText:n,chainId:s})=>{const{chainId:l}=P(),u=a.jsxs(Yn,{padding:n?"2px 4px":"4px 8px",children:[a.jsx(pn,{size:12}),!n&&a.jsx(C,{id:"cIsyes"})]});return t?u:a.jsx(ce,{text:a.jsx(S,{children:a.jsx(C,{id:"MwBW3h",components:{0:a.jsx(rn,{to:`${on.FARMS}/${ct[s||l].route}?tab=elastic&type=active&search=${e}`})}})}),children:u})};function Qn(e,t,n){const{networkInfo:s}=P(),l=s.elastic.coreFactory;return I.useMemo(()=>n.map(u=>l&&e&&t&&u&&!e.wrapped.equals(t.wrapped)?Ae({factoryAddress:l,tokenA:e==null?void 0:e.wrapped,tokenB:t==null?void 0:t.wrapped,fee:u,initCodeHashManualOverride:s.elastic.initCodeHash}):""),[e,t,l,JSON.stringify(n),s])}function jt(e,t,n){return Qn(e,t,[n])[0]}const lt=new dn($e.BigInt(1),$e.BigInt(1e6));function ae({currencyAmount:e,significantDigits:t=6}){return a.jsx(a.Fragment,{children:e.equalTo($e.BigInt(0))?"0":e.greaterThan(lt)?e.toSignificant(t):`<${lt.toSignificant(1)}`})}const Jn=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"_nft",internalType:"contract IERC721"},{type:"address",name:"_helper",internalType:"contract IKSElasticLMHelper"}]},{type:"error",name:"EmergencyEnabled",inputs:[]},{type:"error",name:"Expired",inputs:[]},{type:"error",name:"FailToAdd",inputs:[]},{type:"error",name:"FailToRemove",inputs:[]},{type:"error",name:"FarmNotFound",inputs:[]},{type:"error",name:"Forbidden",inputs:[]},{type:"error",name:"InvalidFarm",inputs:[]},{type:"error",name:"InvalidInput",inputs:[]},{type:"error",name:"InvalidRange",inputs:[]},{type:"error",name:"InvalidReward",inputs:[]},{type:"error",name:"InvalidTime",inputs:[]},{type:"error",name:"LiquidityNotMatch",inputs:[]},{type:"error",name:"NotOwner",inputs:[]},{type:"error",name:"PhaseSettled",inputs:[]},{type:"error",name:"PositionNotEligible",inputs:[]},{type:"error",name:"RangeNotFound",inputs:[]},{type:"error",name:"RangeNotMatch",inputs:[]},{type:"error",name:"StakeNotFound",inputs:[]},{type:"event",name:"ActivateRange",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"uint256",name:"rangeId",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"AddFarm",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"address",name:"poolAddress",internalType:"address",indexed:!1},{type:"tuple[]",name:"ranges",internalType:"struct IKSElasticLMV2.RangeInput[]",indexed:!1,components:[{type:"int24",name:"tickLower",internalType:"int24"},{type:"int24",name:"tickUpper",internalType:"int24"},{type:"uint32",name:"weight",internalType:"uint32"}]},{type:"tuple",name:"phase",internalType:"struct IKSElasticLMV2.PhaseInput",indexed:!1,components:[{type:"uint32",name:"startTime",internalType:"uint32"},{type:"uint32",name:"endTime",internalType:"uint32"},{type:"tuple[]",name:"rewards",internalType:"struct IKSElasticLMV2.RewardInput[]",components:[{type:"address",name:"rewardToken",internalType:"address"},{type:"uint256",name:"rewardAmount",internalType:"uint256"}]}]},{type:"address",name:"farmingToken",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"AddPhase",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"tuple",name:"phase",internalType:"struct IKSElasticLMV2.PhaseInput",indexed:!1,components:[{type:"uint32",name:"startTime",internalType:"uint32"},{type:"uint32",name:"endTime",internalType:"uint32"},{type:"tuple[]",name:"rewards",internalType:"struct IKSElasticLMV2.RewardInput[]",components:[{type:"address",name:"rewardToken",internalType:"address"},{type:"uint256",name:"rewardAmount",internalType:"uint256"}]}]}],anonymous:!1},{type:"event",name:"AddRange",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"tuple",name:"range",internalType:"struct IKSElasticLMV2.RangeInput",indexed:!1,components:[{type:"int24",name:"tickLower",internalType:"int24"},{type:"int24",name:"tickUpper",internalType:"int24"},{type:"uint32",name:"weight",internalType:"uint32"}]}],anonymous:!1},{type:"event",name:"ClaimReward",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"uint256",name:"nftId",internalType:"uint256",indexed:!1},{type:"address",name:"token",internalType:"address",indexed:!1},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1},{type:"address",name:"receiver",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"ClaimReward",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"uint256[]",name:"nftIds",internalType:"uint256[]",indexed:!1},{type:"address",name:"token",internalType:"address",indexed:!1},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1},{type:"address",name:"receiver",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"uint256",name:"rangeId",internalType:"uint256",indexed:!1},{type:"uint256[]",name:"nftIds",internalType:"uint256[]",indexed:!1},{type:"address",name:"depositer",internalType:"address",indexed:!0},{type:"address",name:"receiver",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"ExpandEndTimeAndRewards",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"uint256",name:"duration",internalType:"uint256",indexed:!1},{type:"uint256[]",name:"rewardAmounts",internalType:"uint256[]",indexed:!1}],anonymous:!1},{type:"event",name:"ForceClosePhase",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{type:"address",name:"previousOwner",internalType:"address",indexed:!0},{type:"address",name:"newOwner",internalType:"address",indexed:!0}],anonymous:!1},{type:"event",name:"Paused",inputs:[{type:"address",name:"account",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"RemoveRange",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"uint256",name:"rangeId",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Unpaused",inputs:[{type:"address",name:"account",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"UpdateEmergency",inputs:[{type:"bool",name:"enableOrDisable",internalType:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"UpdateGuardian",inputs:[{type:"address",name:"user",internalType:"address",indexed:!1},{type:"bool",name:"grantOrRevoke",internalType:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"UpdateHelper",inputs:[{type:"address",name:"helper",internalType:"contract IKSElasticLMHelper",indexed:!1}],anonymous:!1},{type:"event",name:"UpdateLiquidity",inputs:[{type:"uint256",name:"fId",internalType:"uint256",indexed:!0},{type:"uint256",name:"nftId",internalType:"uint256",indexed:!1},{type:"uint256",name:"liquidity",internalType:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"UpdateOperator",inputs:[{type:"address",name:"user",internalType:"address",indexed:!1},{type:"bool",name:"grantOrRevoke",internalType:"bool",indexed:!1}],anonymous:!1},{type:"event",name:"UpdateTokenCode",inputs:[{type:"bytes",name:"farmingTokenCode",internalType:"bytes",indexed:!1}],anonymous:!1},{type:"event",name:"Withdraw",inputs:[{type:"uint256[]",name:"nftIds",internalType:"uint256[]",indexed:!1},{type:"address",name:"receiver",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"WithdrawEmergency",inputs:[{type:"uint256",name:"nftId",internalType:"uint256",indexed:!1},{type:"address",name:"receiver",internalType:"address",indexed:!1}],anonymous:!1},{type:"event",name:"WithdrawUnusedRewards",inputs:[{type:"address",name:"token",internalType:"address",indexed:!1},{type:"uint256",name:"amount",internalType:"uint256",indexed:!1},{type:"address",name:"receiver",internalType:"address",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"nonpayable",outputs:[],name:"activateRange",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256",name:"rangeId",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[{type:"uint256",name:"fId",internalType:"uint256"}],name:"addFarm",inputs:[{type:"address",name:"poolAddress",internalType:"address"},{type:"tuple[]",name:"ranges",internalType:"struct IKSElasticLMV2.RangeInput[]",components:[{type:"int24",name:"tickLower",internalType:"int24"},{type:"int24",name:"tickUpper",internalType:"int24"},{type:"uint32",name:"weight",internalType:"uint32"}]},{type:"tuple",name:"phase",internalType:"struct IKSElasticLMV2.PhaseInput",components:[{type:"uint32",name:"startTime",internalType:"uint32"},{type:"uint32",name:"endTime",internalType:"uint32"},{type:"tuple[]",name:"rewards",internalType:"struct IKSElasticLMV2.RewardInput[]",components:[{type:"address",name:"rewardToken",internalType:"address"},{type:"uint256",name:"rewardAmount",internalType:"uint256"}]}]},{type:"bool",name:"isUsingToken",internalType:"bool"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"addLiquidity",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256",name:"rangeId",internalType:"uint256"},{type:"uint256[]",name:"nftIds",internalType:"uint256[]"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"addPhase",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"tuple",name:"phaseInput",internalType:"struct IKSElasticLMV2.PhaseInput",components:[{type:"uint32",name:"startTime",internalType:"uint32"},{type:"uint32",name:"endTime",internalType:"uint32"},{type:"tuple[]",name:"rewards",internalType:"struct IKSElasticLMV2.RewardInput[]",components:[{type:"address",name:"rewardToken",internalType:"address"},{type:"uint256",name:"rewardAmount",internalType:"uint256"}]}]}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"addRange",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"tuple",name:"range",internalType:"struct IKSElasticLMV2.RangeInput",components:[{type:"int24",name:"tickLower",internalType:"int24"},{type:"int24",name:"tickUpper",internalType:"int24"},{type:"uint32",name:"weight",internalType:"uint32"}]}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"claimFee",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256[]",name:"nftIds",internalType:"uint256[]"},{type:"uint256",name:"amount0Min",internalType:"uint256"},{type:"uint256",name:"amount1Min",internalType:"uint256"},{type:"uint256",name:"deadline",internalType:"uint256"},{type:"uint8",name:"flags",internalType:"uint8"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"claimReward",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256[]",name:"nftIds",internalType:"uint256[]"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"deposit",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256",name:"rangeId",internalType:"uint256"},{type:"uint256[]",name:"nftIds",internalType:"uint256[]"},{type:"address",name:"receiver",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"disableLogic",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"emergencyEnabled",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"enableLogic",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"uint256",name:"",internalType:"uint256"}],name:"farmCount",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"forceClosePhase",inputs:[{type:"uint256",name:"fId",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"uint256[]",name:"listNFTs",internalType:"uint256[]"}],name:"getDepositedNFTs",inputs:[{type:"address",name:"user",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"poolAddress",internalType:"address"},{type:"tuple[]",name:"ranges",internalType:"struct IKSElasticLMV2.RangeInfo[]",components:[{type:"int24",name:"tickLower",internalType:"int24"},{type:"int24",name:"tickUpper",internalType:"int24"},{type:"uint32",name:"weight",internalType:"uint32"},{type:"bool",name:"isRemoved",internalType:"bool"}]},{type:"tuple",name:"phase",internalType:"struct IKSElasticLMV2.PhaseInfo",components:[{type:"uint32",name:"startTime",internalType:"uint32"},{type:"uint32",name:"endTime",internalType:"uint32"},{type:"bool",name:"isSettled",internalType:"bool"},{type:"tuple[]",name:"rewards",internalType:"struct IKSElasticLMV2.RewardInput[]",components:[{type:"address",name:"rewardToken",internalType:"address"},{type:"uint256",name:"rewardAmount",internalType:"uint256"}]}]},{type:"uint256",name:"liquidity",internalType:"uint256"},{type:"address",name:"farmingToken",internalType:"address"},{type:"uint256[]",name:"sumRewardPerLiquidity",internalType:"uint256[]"},{type:"uint32",name:"lastTouchedTime",internalType:"uint32"}],name:"getFarm",inputs:[{type:"uint256",name:"fId",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract IERC721"}],name:"getNft",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"owner",internalType:"address"},{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256",name:"rangeId",internalType:"uint256"},{type:"uint256",name:"liquidity",internalType:"uint256"},{type:"uint256[]",name:"lastSumRewardPerLiquidity",internalType:"uint256[]"},{type:"uint256[]",name:"rewardUnclaimed",internalType:"uint256[]"}],name:"getStake",inputs:[{type:"uint256",name:"nftId",internalType:"uint256"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"guardians",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"operators",inputs:[{type:"address",name:"",internalType:"address"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"owner",inputs:[]},{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"paused",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"removeLiquidity",inputs:[{type:"uint256",name:"nftId",internalType:"uint256"},{type:"uint128",name:"liquidity",internalType:"uint128"},{type:"uint256",name:"amount0Min",internalType:"uint256"},{type:"uint256",name:"amount1Min",internalType:"uint256"},{type:"uint256",name:"deadline",internalType:"uint256"},{type:"uint8",name:"flags",internalType:"uint8"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"removeRange",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256",name:"rangeId",internalType:"uint256"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"renounceOwnership",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"transferOwnership",inputs:[{type:"address",name:"newOwner",internalType:"address"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"updateEmergency",inputs:[{type:"bool",name:"enableOrDisable",internalType:"bool"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"updateGuardian",inputs:[{type:"address",name:"user",internalType:"address"},{type:"bool",name:"grantOrRevoke",internalType:"bool"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"updateHelper",inputs:[{type:"address",name:"_helper",internalType:"contract IKSElasticLMHelper"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"updateOperator",inputs:[{type:"address",name:"user",internalType:"address"},{type:"bool",name:"grantOrRevoke",internalType:"bool"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"updateTokenCode",inputs:[{type:"bytes",name:"_farmingTokenCreationCode",internalType:"bytes"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"address"}],name:"weth",inputs:[]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"withdraw",inputs:[{type:"uint256",name:"fId",internalType:"uint256"},{type:"uint256[]",name:"nftIds",internalType:"uint256[]"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"withdrawEmergency",inputs:[{type:"uint256[]",name:"nftIds",internalType:"uint256[]"}]},{type:"function",stateMutability:"nonpayable",outputs:[],name:"withdrawUnusedRewards",inputs:[{type:"address[]",name:"tokens",internalType:"address[]"},{type:"uint256[]",name:"amounts",internalType:"uint256[]"}]},{type:"receive",stateMutability:"payable"}];function Aa({tokenId:e,position:t,layout:n=0,text:s="",hasUserDepositedInFarm:l,feeValue0:u,feeValue1:m,totalFeeRewardUSD:f,farmAddress:x}){var Ve;const{account:b,networkInfo:d}=P(),{library:o}=un(),r=Fe(),p=(u==null?void 0:u.currency)||t.pool.token0,i=(m==null?void 0:m.currency)||t.pool.token1,c=He(),y=Ye(),w=Ln(),{mixpanelHandler:g}=ln(),[T]=cn(),k=t.liquidity.toString(),[h,L]=I.useState(""),[E,A]=I.useState(!1),[R,F]=I.useState(),[Z,H]=I.useState(!1),M=()=>{H(!1),F(""),A(!1),L("")},O=G=>{const V=u==null?void 0:u.toSignificant(6),q=m==null?void 0:m.toSignificant(6),z=(u==null?void 0:u.currency.symbol)??"",$=(m==null?void 0:m.currency.symbol)??"";c({hash:G.hash,type:D.ELASTIC_COLLECT_FEE,extraInfo:{tokenAmountIn:V,tokenAmountOut:q,tokenAddressIn:u==null?void 0:u.currency.wrapped.address,tokenAddressOut:m==null?void 0:m.currency.wrapped.address,tokenSymbolIn:z,tokenSymbolOut:$,arbitrary:{token_1:p==null?void 0:p.symbol,token_2:i==null?void 0:i.symbol,token_1_amount:V,token_2_amount:q}}}),A(!1),F(G.hash)},Rt=ht(x||""),Ft=jt(t.pool.token0,t.pool.token1,t.pool.fee),{userInfo:Ne}=Je(),ie=Ne==null?void 0:Ne.find(G=>G.nftId.toString()===e.toString()),de=ie==null?void 0:ie.farmAddress,Xe=(Ve=d.elastic["farmV2.1S"])==null?void 0:Ve.map(G=>G.toLowerCase()).includes(de==null?void 0:de.toLowerCase()),Ot=Ge(de,Ct),_t=Ge(de,Jn),Nt=async()=>{const G=!!ie,V=G?Xe?_t:Ot:Rt;if(!V||!u||!m){A(!1),L("Something went wrong!");return}const q=u.subtract(u.multiply(xe(T))),z=m.subtract(m.multiply(xe(T)));try{const $=G?Xe?[ie.fId,[e.toString()],q.quotient.toString(),z.quotient.toString(),w==null?void 0:w.toString(),Tn({isClaimFee:!1,isSyncFee:!1,isClaimReward:!1,isReceiveNative:!0})]:[ie.fId,[e.toString()],q.quotient.toString(),z.quotient.toString(),w==null?void 0:w.toString(),!0]:[[e.toString()],q.quotient.toString(),z.quotient.toString(),Ft,!0,w==null?void 0:w.toString()],Pe=await V.estimateGas.claimFee(...$),Ut=await V.claimFee(...$,{gasLimit:_(Pe)});O(Ut)}catch($){H(!0),A(!1),L(($==null?void 0:$.message)||JSON.stringify($))}},Pt=async()=>{if(H(!0),A(!0),!u||!m||!y||!b||!e||!o||!w||!n){A(!1),L("Something went wrong!");return}if(g(fn.ELASTIC_COLLECT_FEES_INITIATED,{token_1:p==null?void 0:p.symbol,token_2:i==null?void 0:i.symbol}),l){Nt();return}const{calldata:G,value:V}=kn.collectCallParameters({tokenId:e.toString(),expectedCurrencyOwed0:u.subtract(u.multiply(xe(T))),expectedCurrencyOwed1:m.subtract(m.multiply(xe(T))),recipient:b,deadline:w.toString(),havingFee:!0,isPositionClosed:k==="0"}),q={to:y.address,data:G,value:V};try{await o.getSigner().estimateGas(q).then(z=>{const $={...q,gasLimit:_(z)};return o.getSigner().sendTransaction($).then(Pe=>{O(Pe)})})}catch(z){H(!0),A(!1),L((z==null?void 0:z.message)||JSON.stringify(z)),console.error(z)}},Ze=!(u!=null&&u.greaterThan(0)||m!=null&&m.greaterThan(0));return n===0?a.jsx(Ee,{marginTop:"1rem",padding:"1rem",children:a.jsxs(me,{gap:"md",children:[a.jsx(S,{fontSize:"12px",fontWeight:"500",children:"Your Fee Earnings"}),s&&a.jsx(S,{color:r.subText,fontSize:"12px",children:s}),a.jsx(Lt,{}),a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:500,color:r.subText,children:a.jsx(C,{id:"NGquEA"})}),a.jsx(Y,{children:a.jsx(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:at(f,!0)})})]}),a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:500,color:r.subText,children:a.jsx(C,{id:"JbzAAx",values:{0:p.symbol}})}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:p}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[u&&a.jsx(ae,{currencyAmount:u})," ",p.symbol]})]})]}),a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:500,color:r.subText,children:a.jsx(C,{id:"JbzAAx",values:{0:i.symbol}})}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:i}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[m&&a.jsx(ae,{currencyAmount:m})," ",i.symbol]})]})]})]})}):a.jsxs(Ee,{marginTop:"1rem",padding:"1rem",children:[a.jsxs(me,{gap:"md",children:[a.jsxs(W,{children:[a.jsx(N,{children:a.jsx(S,{fontSize:12,fontWeight:500,color:r.subText,children:a.jsx(C,{id:"NGquEA"})})}),a.jsx(Y,{children:a.jsx(S,{fontSize:12,fontWeight:500,children:at(f,!0)})})]}),a.jsxs(W,{children:[a.jsxs(N,{children:[a.jsx(S,{fontSize:12,fontWeight:500,color:r.subText,children:a.jsx(C,{id:"JbzAAx",values:{0:p.symbol}})}),a.jsx(De,{text:v._({id:"3thtWP"})})]}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:p}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[u&&a.jsx(ae,{currencyAmount:u})," ",p.symbol]})]})]}),a.jsxs(W,{children:[a.jsxs(N,{children:[a.jsx(S,{fontSize:12,fontWeight:500,color:r.subText,children:a.jsx(C,{id:"JbzAAx",values:{0:i.symbol}})}),a.jsx(De,{text:v._({id:"3thtWP"})})]}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:i}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[m&&a.jsx(ae,{currencyAmount:m})," ",i.symbol]})]})]}),a.jsx(kt,{disabled:Ze,onClick:Pt,style:{padding:"10px",fontSize:"14px"},children:a.jsxs(N,{alignItems:"center",sx:{gap:"8px"},children:[a.jsx(De,{placement:"top",size:16,text:Ze?v._({id:"LS0YKq"}):v._({id:"2Ylcop"}),useCurrentColor:!0}),a.jsx(C,{id:"P7PXN5"})]})})]}),a.jsx(yn,{isOpen:Z,onDismiss:M,hash:R,attemptingTxn:E,pendingText:"Collecting fee reward",content:()=>a.jsx(N,{flexDirection:"column",width:"100%",children:h?a.jsx(mn,{onDismiss:M,message:h}):null})})]})}const Xn=U.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: fit-content;
  height: fit-content;
  cursor: pointer;

  transform: rotate(${({rotated:e})=>e?"180deg":"0"});
  transition: transform 300ms;
  :hover {
    opacity: 0.8;
  }
`,Zn=({rotated:e,size:t=14})=>a.jsx(Xn,{rotated:e,children:a.jsx(Mn,{size:t})});function Ma({isFarmActive:e,isFarmV2Active:t,position:n,tokenId:s,narrow:l=!1,rotatedProp:u,setRotatedProp:m,showRangeInfo:f=!0,showRemoved:x=!0}){const{chainId:b}=P(),d=st(`(max-width: ${rt.upToSmall}px)`),o=st(`(max-width: ${rt.upToExtraSmall}px)`),r=Fe(),p=jt(n.pool.token0,n.pool.token1,n.pool.fee),i=K.from(n.liquidity.toString()).eq(0),c=n.pool.tickCurrent<n.tickLower||n.pool.tickCurrent>=n.tickUpper,y=pt(n.pool.token0),w=pt(n.pool.token1),g=()=>!e&&!t?null:a.jsx(N,{sx:{gap:"4px"},alignItems:"center",children:a.jsx(qn,{address:p})}),[T,k]=I.useState(!1),[h,L]=typeof u=="boolean"&&typeof m<"u"?[u,m]:[T,k],[E,A]=h?[n.amount0,n.amount1]:[n.amount1,n.amount0],R=I.useCallback(F=>{F.preventDefault(),F.stopPropagation(),L(!h)},[h,L]);return a.jsx(a.Fragment,{children:p&&a.jsxs(me,{children:[a.jsxs(N,{alignItems:d?void 0:"center",justifyContent:"space-between",sx:{gap:"8px"},children:[a.jsxs(N,{alignItems:"center",flex:1,children:[a.jsx(gn,{currency0:y,currency1:w,size:20}),a.jsxs(S,{fontSize:"16px",fontWeight:"500",maxWidth:"fit-content",flex:1,sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[y.symbol," - ",w.symbol]}),a.jsxs(Hn,{children:["FEE ",(n==null?void 0:n.pool.fee)*100/hn,"% "]})]}),a.jsxs(N,{sx:{gap:"8px"},children:[g(),f&&a.jsx(Bn,{removed:x&&i,inRange:!c,hideText:!0})]})]}),a.jsxs(N,{justifyContent:"space-between",alignItems:o?"flex-start":"center",marginTop:"8px",sx:{gap:"8px"},children:[a.jsx(N,{alignItems:"center",color:r.subText,fontSize:12,children:a.jsx(xn,{toCopy:p,text:a.jsxs(S,{fontSize:"12px",fontWeight:"500",color:r.subText,children:[bn(b,p)," "]})})}),f&&s?a.jsxs(S,{fontSize:"12px",marginRight:"4px",color:r.subText,children:["#",s]}):null,l&&a.jsxs(N,{sx:{gap:"4px"},children:[a.jsx(S,{fontSize:12,children:a.jsxs(N,{children:[a.jsx(S,{color:r.subText,children:a.jsx(C,{id:"RRqX8x"})})," 1 ",A.currency.symbol," = ",n.pool.priceOf(A.currency).toSignificant(10)," ",E.currency.symbol]})}),a.jsx("span",{onClick:R,style:{cursor:"pointer"},children:a.jsx(Zn,{rotated:h,size:12})})]})]})]})})}function Ca({liquidityValue0:e,liquidityValue1:t,layout:n=0,valueUSD:s,stakedUsd:l,title:u,pooled:m=!1,positionAPR:f,createdAt:x,farmAPR:b,farmRewardAmount:d}){var p,i;const o=Fe();return n===0?a.jsx(Ee,{marginTop:"1rem",padding:"1rem",children:a.jsxs(me,{gap:"md",children:[a.jsx(S,{fontSize:"12px",fontWeight:"500",children:u||a.jsx(C,{id:"3M7/sk"})}),a.jsx(Lt,{}),(e==null?void 0:e.greaterThan(it))&&a.jsxs(W,{children:[a.jsxs(S,{fontSize:12,fontWeight:500,color:o.subText,children:[m&&"POOLED"," ",e==null?void 0:e.currency.symbol]}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:e.currency}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[e&&a.jsx(ae,{currencyAmount:e})," ",e==null?void 0:e.currency.symbol]})]})]}),(t==null?void 0:t.greaterThan(it))&&a.jsxs(W,{children:[a.jsxs(S,{fontSize:12,fontWeight:500,color:o.subText,children:[m&&"POOLED"," ",t==null?void 0:t.currency.symbol]}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:t.currency}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[t&&a.jsx(ae,{currencyAmount:t})," ",t==null?void 0:t.currency.symbol]})]})]})]})}):a.jsx(a.Fragment,{children:a.jsx(Ee,{marginTop:"1rem",padding:"1rem",children:a.jsxs(me,{gap:"md",children:[a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:"500",color:o.subText,children:a.jsx(C,{id:"UTDllE"})}),a.jsx(S,{fontSize:12,fontWeight:"500",children:ot(s||0)})]}),a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:500,color:o.subText,children:a.jsx(C,{id:"zwZk2C",values:{0:(p=e==null?void 0:e.currency)==null?void 0:p.symbol}})}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:e==null?void 0:e.currency}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[e&&a.jsx(ae,{currencyAmount:e})," ",e==null?void 0:e.currency.symbol]})]})]}),a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:500,color:o.subText,children:a.jsx(C,{id:"zwZk2C",values:{0:(i=t==null?void 0:t.currency)==null?void 0:i.symbol}})}),a.jsxs(Y,{children:[a.jsx(X,{size:"16px",style:{marginLeft:"8px"},currency:t==null?void 0:t.currency}),a.jsxs(S,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[t&&a.jsx(ae,{currencyAmount:t})," ",t==null?void 0:t.currency.symbol]})]})]}),a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:"500",color:o.subText,children:a.jsx(C,{id:"bEml4G"})}),a.jsx(S,{fontSize:12,fontWeight:"500",children:ot(l||0)})]}),a.jsxs(W,{children:[a.jsxs(S,{fontSize:12,fontWeight:"500",color:o.subText,children:[a.jsx(C,{id:"ZXryFE"}),x&&a.jsx(wn,{placement:"top",text:a.jsx(C,{id:"476kCn",values:{0:ft(x*1e3).format("YYYY-MM-DD HH:mm")}})})]}),a.jsx(S,{fontSize:12,fontWeight:"500",color:o.apr,children:f==="--"?"--":f+"%"})]}),a.jsxs(W,{children:[a.jsx(S,{fontSize:12,fontWeight:"500",color:o.subText,children:a.jsx(C,{id:"vGuIOQ"})}),b&&(d!=null&&d.length)?a.jsx(ce,{width:"fit-content",text:a.jsx(N,{flexDirection:"column",sx:{gap:"8px"},children:d.map((c,y)=>a.jsxs(N,{alignItems:"center",sx:{gap:"4px"},children:[a.jsx(X,{currency:c.currency,size:"14px"}),a.jsxs(S,{children:[c.toSignificant(6)," ",c.currency.symbol]})]},y))}),children:a.jsx(S,{fontSize:12,fontWeight:"500",color:o.apr,sx:{borderBottom:`1px dotted ${o.border}`},children:b?`${b.toFixed(2)}%`:"--"})}):a.jsx(S,{fontSize:12,fontWeight:"500",color:o.apr,children:b?`${b.toFixed(2)}%`:"--"})]})]})})})}export{Cn as A,ka as B,ia as C,ya as D,Zn as E,oa as F,Ma as G,Ca as H,Aa as I,Et as J,jt as K,Ct as L,Jn as M,ga as N,ae as O,j as P,Bn as R,Mn as S,Je as a,fa as b,Kn as c,Hn as d,ca as e,da as f,ba as g,wa as h,La as i,Ia as j,la as k,jn as l,ua as m,ha as n,xa as o,Oe as p,Ta as q,Mt as r,At as s,pa as t,ma as u,Sa as v,Ea as w,ut as x,va as y,ra as z};
