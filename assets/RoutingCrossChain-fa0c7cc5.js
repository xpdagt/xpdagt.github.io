import{df as T,r as n,j as e,cU as z,l1 as C,R as H,cF as $,bs as A,br as F,l2 as L,ju as N}from"./index-201afa5f.js";import{p as P}from"./useThrottle-1041457e.js";import{o as U,S as b,a as D,b as O,c as v,d as _,e as q,f as E,g as B,h as G,j as J,k,l as I,u as K,m as M,n as Q,p as V,t as W,s as X}from"./styled-3c70740c.js";const Y=({routes:d,backgroundColor:u})=>{const x=n.useRef(null),j=n.useRef(null),m=n.useRef(null),g=z(),l=K(x,m,j);return n.useEffect(()=>(window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)),[]),n.useEffect(()=>{l()},[d]),e.jsx(M,{ref:m,backgroundColor:u,children:e.jsx(P,{innerRef:x,vertical:!1,onScroll:l,children:e.jsx(Q,{length:d.length,ref:j,children:d.map((t,c,i)=>{var r,o,f,p;const a=((f=(o=(r=t.data)==null?void 0:r.dex)==null?void 0:o.toLowerCase)==null?void 0:f.call(o))||"";if(!t.fromToken||!t.toToken||!a)return null;const R=new C({...t.fromToken,chainId:+t.fromToken.chainId}),y=new C({...t.toToken,chainId:+t.toToken.chainId}),h=(p=g.find(s=>s.id===a||s.name.toLowerCase()===a||a.startsWith(s.name.toLowerCase())))==null?void 0:p.logoURL;return[R,y].map((s,w)=>{const S=s.chainId;return s?e.jsxs(H.Fragment,{children:[e.jsxs(V,{children:[e.jsxs(W,{href:$(S,A(s,S)?F[S].address:s.address,"token"),target:"_blank",style:{gap:"4px"},children:[e.jsx(L,{chainId:S,tokenLogo:s.logoURI??"",size:16}),e.jsx("span",{children:s==null?void 0:s.symbol})]}),e.jsxs(X,{children:[h&&e.jsx("img",{src:h,alt:"",className:"img--sm"}),a]})]}),!(c===i.length-1&&w===1)&&e.jsx(k,{children:e.jsx(I,{})})]},`${c}_${w}`):null})})})})})},ne=()=>{const[{chainIdOut:d}]=T(),u=n.useRef(null),x=n.useRef(null),j=n.useRef(null),[{route:m,currencyIn:g,currencyOut:l,formatRoute:t}]=T(),c=(o,f,p)=>o?e.jsxs(W,{as:"div",reverse:p,style:{border:"none"},children:[e.jsx(L,{size:20,currency:o}),e.jsx("span",{children:`${f?N(f,o.decimals).toSignificant(6):""} ${o.symbol}`})]}):null,{routeData:i,inputAmount:a,outputAmount:R}=t,y=(i==null?void 0:i.length)||0,h=d&&y>0,r=n.useCallback(()=>U(u.current),[]);return n.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),n.useEffect(()=>{r()},[m,r]),e.jsx(b,{ref:u,children:e.jsx(D,{ref:x,onScroll:r,style:{maxHeight:"100%",paddingRight:6},children:e.jsxs("div",{ref:j,children:[e.jsxs(O,{children:[e.jsx(v,{children:c(g,a)}),!h&&e.jsx(_,{}),e.jsx(v,{children:c(l,R,!0)})]}),h?e.jsxs(q,{children:[e.jsx(E,{}),e.jsx(E,{out:!0}),e.jsxs(B,{children:[e.jsx(G,{children:"100%"}),e.jsx(J,{}),e.jsx(Y,{routes:i}),e.jsx(k,{style:{marginRight:"2px"},children:e.jsx(I,{})})]})]}):null]})})})};export{ne as default};
