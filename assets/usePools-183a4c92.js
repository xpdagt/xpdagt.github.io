import{gv as Je,gw as Xe,gx as et,ag as n,hl as h,gh as ue,hm as ce,dZ as re,dn as He,af as D,ad as X,dT as Pe,hn as Oe,ho as je,hp as tt,v as nt,u as it,r as Ie,he as Ne}from"./index-201afa5f.js";const at=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"}];function Le(a,o,e,t,i,r,p){try{var s=a[r](p),d=s.value}catch(u){e(u);return}s.done?o(d):Promise.resolve(d).then(t,i)}function j(a){return function(){var o=this,e=arguments;return new Promise(function(t,i){var r=a.apply(o,e);function p(d){Le(r,t,i,p,s,"next",d)}function s(d){Le(r,t,i,p,s,"throw",d)}p(void 0)})}}function Re(a,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function Ae(a,o,e){return o&&Re(a.prototype,o),e&&Re(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function Te(){return Te=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}return a},Te.apply(this,arguments)}function rt(a,o){if(a==null)return{};var e={},t=Object.keys(a),i,r;for(r=0;r<t.length;r++)i=t[r],!(o.indexOf(i)>=0)&&(e[i]=a[i]);return e}function ut(a,o){if(a){if(typeof a=="string")return qe(a,o);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return qe(a,o)}}function qe(a,o){(o==null||o>a.length)&&(o=a.length);for(var e=0,t=new Array(o);e<o;e++)t[e]=a[e];return t}function ae(a,o){var e=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e)return(e=e.call(a)).next.bind(e);if(Array.isArray(a)||(e=ut(a))||o&&a&&typeof a.length=="number"){e&&(a=e);var t=0;return function(){return t>=a.length?{done:!0}:{done:!1,value:a[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(a,o){return o={exports:{}},a(o,o.exports),o.exports}var N=st(function(a){var o=function(e){var t=Object.prototype,i=t.hasOwnProperty,r,p=typeof Symbol=="function"?Symbol:{},s=p.iterator||"@@iterator",d=p.asyncIterator||"@@asyncIterator",u=p.toStringTag||"@@toStringTag";function l(m,c,v){return Object.defineProperty(m,c,{value:v,enumerable:!0,configurable:!0,writable:!0}),m[c]}try{l({},"")}catch{l=function(c,v,b){return c[v]=b}}function y(m,c,v,b){var I=c&&c.prototype instanceof O?c:O,L=Object.create(I.prototype),U=new me(b||[]);return L._invoke=oe(m,v,U),L}e.wrap=y;function f(m,c,v){try{return{type:"normal",arg:m.call(c,v)}}catch(b){return{type:"throw",arg:b}}}var g="suspendedStart",M="suspendedYield",T="executing",w="completed",E={};function O(){}function G(){}function _(){}var K={};l(K,s,function(){return this});var H=Object.getPrototypeOf,z=H&&H(H(le([])));z&&z!==t&&i.call(z,s)&&(K=z);var C=_.prototype=O.prototype=Object.create(K);G.prototype=_,l(C,"constructor",_),l(_,"constructor",G),G.displayName=l(_,u,"GeneratorFunction");function ve(m){["next","throw","return"].forEach(function(c){l(m,c,function(v){return this._invoke(c,v)})})}e.isGeneratorFunction=function(m){var c=typeof m=="function"&&m.constructor;return c?c===G||(c.displayName||c.name)==="GeneratorFunction":!1},e.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,_):(m.__proto__=_,l(m,u,"GeneratorFunction")),m.prototype=Object.create(C),m},e.awrap=function(m){return{__await:m}};function se(m,c){function v(L,U,F,Q){var B=f(m[L],m,U);if(B.type==="throw")Q(B.arg);else{var xe=B.arg,fe=xe.value;return fe&&typeof fe=="object"&&i.call(fe,"__await")?c.resolve(fe.__await).then(function(ne){v("next",ne,F,Q)},function(ne){v("throw",ne,F,Q)}):c.resolve(fe).then(function(ne){xe.value=ne,F(xe)},function(ne){return v("throw",ne,F,Q)})}}var b;function I(L,U){function F(){return new c(function(Q,B){v(L,U,Q,B)})}return b=b?b.then(F,F):F()}this._invoke=I}ve(se.prototype),l(se.prototype,d,function(){return this}),e.AsyncIterator=se,e.async=function(m,c,v,b,I){I===void 0&&(I=Promise);var L=new se(y(m,c,v,b),I);return e.isGeneratorFunction(c)?L:L.next().then(function(U){return U.done?U.value:L.next()})};function oe(m,c,v){var b=g;return function(L,U){if(b===T)throw new Error("Generator is already running");if(b===w){if(L==="throw")throw U;return he()}for(v.method=L,v.arg=U;;){var F=v.delegate;if(F){var Q=te(F,v);if(Q){if(Q===E)continue;return Q}}if(v.method==="next")v.sent=v._sent=v.arg;else if(v.method==="throw"){if(b===g)throw b=w,v.arg;v.dispatchException(v.arg)}else v.method==="return"&&v.abrupt("return",v.arg);b=T;var B=f(m,c,v);if(B.type==="normal"){if(b=v.done?w:M,B.arg===E)continue;return{value:B.arg,done:v.done}}else B.type==="throw"&&(b=w,v.method="throw",v.arg=B.arg)}}}function te(m,c){var v=m.iterator[c.method];if(v===r){if(c.delegate=null,c.method==="throw"){if(m.iterator.return&&(c.method="return",c.arg=r,te(m,c),c.method==="throw"))return E;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var b=f(v,m.iterator,c.arg);if(b.type==="throw")return c.method="throw",c.arg=b.arg,c.delegate=null,E;var I=b.arg;if(!I)return c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,E;if(I.done)c[m.resultName]=I.value,c.next=m.nextLoc,c.method!=="return"&&(c.method="next",c.arg=r);else return I;return c.delegate=null,E}ve(C),l(C,u,"Generator"),l(C,s,function(){return this}),l(C,"toString",function(){return"[object Generator]"});function Se(m){var c={tryLoc:m[0]};1 in m&&(c.catchLoc=m[1]),2 in m&&(c.finallyLoc=m[2],c.afterLoc=m[3]),this.tryEntries.push(c)}function pe(m){var c=m.completion||{};c.type="normal",delete c.arg,m.completion=c}function me(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(Se,this),this.reset(!0)}e.keys=function(m){var c=[];for(var v in m)c.push(v);return c.reverse(),function b(){for(;c.length;){var I=c.pop();if(I in m)return b.value=I,b.done=!1,b}return b.done=!0,b}};function le(m){if(m){var c=m[s];if(c)return c.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var v=-1,b=function I(){for(;++v<m.length;)if(i.call(m,v))return I.value=m[v],I.done=!1,I;return I.value=r,I.done=!0,I};return b.next=b}}return{next:he}}e.values=le;function he(){return{value:r,done:!0}}return me.prototype={constructor:me,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(pe),!m)for(var c in this)c.charAt(0)==="t"&&i.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=r)},stop:function(){this.done=!0;var m=this.tryEntries[0],c=m.completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var c=this;function v(Q,B){return L.type="throw",L.arg=m,c.next=Q,B&&(c.method="next",c.arg=r),!!B}for(var b=this.tryEntries.length-1;b>=0;--b){var I=this.tryEntries[b],L=I.completion;if(I.tryLoc==="root")return v("end");if(I.tryLoc<=this.prev){var U=i.call(I,"catchLoc"),F=i.call(I,"finallyLoc");if(U&&F){if(this.prev<I.catchLoc)return v(I.catchLoc,!0);if(this.prev<I.finallyLoc)return v(I.finallyLoc)}else if(U){if(this.prev<I.catchLoc)return v(I.catchLoc,!0)}else if(F){if(this.prev<I.finallyLoc)return v(I.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(m,c){for(var v=this.tryEntries.length-1;v>=0;--v){var b=this.tryEntries[v];if(b.tryLoc<=this.prev&&i.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var I=b;break}}I&&(m==="break"||m==="continue")&&I.tryLoc<=c&&c<=I.finallyLoc&&(I=null);var L=I?I.completion:{};return L.type=m,L.arg=c,I?(this.method="next",this.next=I.finallyLoc,E):this.complete(L)},complete:function(m,c){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&c&&(this.next=c),E},finish:function(m){for(var c=this.tryEntries.length-1;c>=0;--c){var v=this.tryEntries[c];if(v.finallyLoc===m)return this.complete(v.completion,v.afterLoc),pe(v),E}},catch:function(m){for(var c=this.tryEntries.length-1;c>=0;--c){var v=this.tryEntries[c];if(v.tryLoc===m){var b=v.completion;if(b.type==="throw"){var I=b.arg;pe(v)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(m,c,v){return this.delegate={iterator:le(m),resultName:c,nextLoc:v},this.method==="next"&&(this.arg=r),E}},e}(a.exports);try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}),$,ot="0x0C7369F931a8D809E443c1d4A5DCe663fF888a73",ke="0x0000000000000000000000000000000000000000",pt="0xd71790a46dff0e075392efbd706356cd5a822a782f46e9859829440065879f81",V;(function(a){a[a.VERY_STABLE=8]="VERY_STABLE",a[a.VERY_STABLE1=10]="VERY_STABLE1",a[a.VERY_STABLE2=20]="VERY_STABLE2",a[a.STABLE=40]="STABLE",a[a.MOST_PAIR=100]="MOST_PAIR",a[a.MOST_PAIR1=250]="MOST_PAIR1",a[a.MOST_PAIR2=300]="MOST_PAIR2",a[a.EXOTIC=1e3]="EXOTIC",a[a.VOLATILE=2e3]="VOLATILE",a[a.RARE=5e3]="RARE"})(V||(V={}));var De=($={},$[V.VERY_STABLE]=1,$[V.VERY_STABLE1]=1,$[V.VERY_STABLE2]=2,$[V.STABLE]=8,$[V.MOST_PAIR]=10,$[V.MOST_PAIR1]=25,$[V.MOST_PAIR2]=60,$[V.EXOTIC]=200,$[V.VOLATILE]=100,$[V.RARE]=100,$),_e=100;function Ke(a){var o=a.factoryAddress,e=a.tokenA,t=a.tokenB,i=a.fee,r=a.initCodeHashManualOverride,p=e.sortsBefore(t)?[e,t]:[t,e],s=p[0],d=p[1];return Je(o,Xe(["bytes"],[et.encode(["address","address","uint24"],[s.address,d.address,i])]),r??pt)}var ze=function(){function a(){}var o=a.prototype;return o.getTick=function(){var e=j(N.mark(function i(r){return N.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:throw new Error(a.ERROR_MESSAGE);case 1:case"end":return s.stop()}},i)}));function t(i){return e.apply(this,arguments)}return t}(),o.nextInitializedTickWithinOneWord=function(){var e=j(N.mark(function i(r,p,s){return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:throw new Error(a.ERROR_MESSAGE);case 1:case"end":return u.stop()}},i)}));function t(i,r,p){return e.apply(this,arguments)}return t}(),o.nextInitializedTickWithinFixedDistance=function(){var e=j(N.mark(function i(r,p,s){return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:throw new Error(a.ERROR_MESSAGE);case 1:case"end":return u.stop()}},i)}));function t(i,r,p){return e.apply(this,arguments)}return t}(),a}();ze.ERROR_MESSAGE="No tick data provider was given";var Y=n.BigInt(-1),x=n.BigInt(0),W=n.BigInt(1),P=n.exponentiate(n.BigInt(2),n.BigInt(96)),we=n.exponentiate(P,n.BigInt(2)),lt=n.BigInt(2),dt=[128,64,32,16,8,4,2,1].map(function(a){return[a,n.exponentiate(lt,n.BigInt(a))]});function yt(a){n.greaterThan(a,x)||h(!1),n.lessThanOrEqual(a,ce)||h(!1);for(var o=0,e=ae(dt),t;!(t=e()).done;){var i=t.value,r=i[0],p=i[1];n.greaterThanOrEqual(a,p)&&(a=n.signedRightShift(a,n.BigInt(r)),o+=r)}return o}function q(a,o){return n.signedRightShift(n.multiply(a,n.BigInt(o)),n.BigInt(128))}var Me=n.exponentiate(n.BigInt(2),n.BigInt(32)),k=function(){function a(){}return a.getSqrtRatioAtTick=function(e){e>=a.MIN_TICK&&e<=a.MAX_TICK&&Number.isInteger(e)||h(!1);var t=e<0?e*-1:e,i=t&1?n.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):n.BigInt("0x100000000000000000000000000000000");return t&2&&(i=q(i,"0xfff97272373d413259a46990580e213a")),t&4&&(i=q(i,"0xfff2e50f5f656932ef12357cf3c7fdcc")),t&8&&(i=q(i,"0xffe5caca7e10e4e61c3624eaa0941cd0")),t&16&&(i=q(i,"0xffcb9843d60f6159c9db58835c926644")),t&32&&(i=q(i,"0xff973b41fa98c081472e6896dfb254c0")),t&64&&(i=q(i,"0xff2ea16466c96a3843ec78b326b52861")),t&128&&(i=q(i,"0xfe5dee046a99a2a811c461f1969c3053")),t&256&&(i=q(i,"0xfcbe86c7900a88aedcffc83b479aa3a4")),t&512&&(i=q(i,"0xf987a7253ac413176f2b074cf7815e54")),t&1024&&(i=q(i,"0xf3392b0822b70005940c7a398e4b70f3")),t&2048&&(i=q(i,"0xe7159475a2c29b7443b29c7fa6e889d9")),t&4096&&(i=q(i,"0xd097f3bdfd2022b8845ad8f792aa5825")),t&8192&&(i=q(i,"0xa9f746462d870fdf8a65dc1f90e061e5")),t&16384&&(i=q(i,"0x70d869a156d2a1b890bb3df62baf32f7")),t&32768&&(i=q(i,"0x31be135f97d08fd981231505542fcfa6")),t&65536&&(i=q(i,"0x9aa508b5b7a84e1c677de54f3e99bc9")),t&131072&&(i=q(i,"0x5d6af8dedb81196699c329225ee604")),t&262144&&(i=q(i,"0x2216e584f5fa1ea926041bedfe98")),t&524288&&(i=q(i,"0x48a170391f7dc42444e8fa2")),e>0&&(i=n.divide(ce,i)),n.greaterThan(n.remainder(i,Me),x)?n.add(n.divide(i,Me),W):n.divide(i,Me)},a.getTickAtSqrtRatio=function(e){n.greaterThanOrEqual(e,a.MIN_SQRT_RATIO)&&n.lessThan(e,a.MAX_SQRT_RATIO)||h(!1);var t=n.leftShift(e,n.BigInt(32)),i=yt(t),r;n.greaterThanOrEqual(n.BigInt(i),n.BigInt(128))?r=n.signedRightShift(t,n.BigInt(i-127)):r=n.leftShift(t,n.BigInt(127-i));for(var p=n.leftShift(n.subtract(n.BigInt(i),n.BigInt(128)),n.BigInt(64)),s=0;s<14;s++){r=n.signedRightShift(n.multiply(r,r),n.BigInt(127));var d=n.signedRightShift(r,n.BigInt(128));p=n.bitwiseOr(p,n.leftShift(d,n.BigInt(63-s))),r=n.signedRightShift(r,d)}var u=n.multiply(p,n.BigInt("255738958999603826347141")),l=n.toNumber(n.signedRightShift(n.subtract(u,n.BigInt("3402992956809132418596140100660247210")),n.BigInt(128))),y=n.toNumber(n.signedRightShift(n.add(u,n.BigInt("291339464771989622907027621153398088495")),n.BigInt(128)));return l===y?l:n.lessThanOrEqual(a.getSqrtRatioAtTick(y),e)?y:l},a}();k.MIN_TICK=-887272;k.MAX_TICK=-k.MIN_TICK;k.MIN_SQRT_RATIO=n.BigInt("4295128739");k.MAX_SQRT_RATIO=n.BigInt("1461446703485210103287273052203988822378723970342");function ct(a,o){for(var e=0;e<a.length-1;e++)if(o(a[e],a[e+1])>0)return!1;return!0}function mt(a,o){return a.index-o.index}var ge=function(){function a(){}return a.validateList=function(e,t){t>0||h(!1),e.every(function(i){var r=i.index;return r%t===0})||h(!1),n.equal(e.reduce(function(i,r){var p=r.liquidityNet;return n.add(i,p)},x),x)||h(!1),ct(e,mt)||h(!1)},a.isBelowSmallest=function(e,t){return e.length>0||h(!1),t<e[0].index},a.isAtOrAboveLargest=function(e,t){return e.length>0||h(!1),t>=e[e.length-1].index},a.getTick=function(e,t){var i=e[this.binarySearch(e,t)];return i.index!==t&&h(!1),i},a.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&h(!1);for(var i=0,r=e.length-1,p;;){if(p=Math.floor((i+r)/2),e[p].index<=t&&(p===e.length-1||e[p+1].index>t))return p;e[p].index<t?i=p+1:r=p-1}},a.nextInitializedTick=function(e,t,i){if(i){if(a.isBelowSmallest(e,t)&&h(!1),a.isAtOrAboveLargest(e,t))return e[e.length-1];var r=this.binarySearch(e,t);return e[r]}else{if(this.isAtOrAboveLargest(e,t)&&h(!1),this.isBelowSmallest(e,t))return e[0];var p=this.binarySearch(e,t);return e[p+1]}},a.nextInitializedTickWithinOneWord=function(e,t,i,r){var p=Math.floor(t/r);if(i){var s=p>>8,d=(s<<8)*r;if(a.isBelowSmallest(e,t))return[d,!1];var u=a.nextInitializedTick(e,t,i).index,l=Math.max(d,u);return[l,l===u]}else{var y=p+1>>8,f=(y+1<<8)*r-1;if(this.isAtOrAboveLargest(e,t))return[f,!1];var g=this.nextInitializedTick(e,t,i).index,M=Math.min(f,g);return[M,M===g]}},a.nextInitializedTickWithinFixedDistance=function(e,t,i,r){if(r===void 0&&(r=480),i){var p=t-r;if(a.isBelowSmallest(e,t))return[p,!1];var s=a.nextInitializedTick(e,t,i).index,d=Math.max(p,s);return[d,d===s]}else{var u=t+r;if(this.isAtOrAboveLargest(e,t))return[u,!1];var l=this.nextInitializedTick(e,t,i).index,y=Math.min(u,l);return[y,y===l]}},a}();function S(a){var o=n.BigInt(a),e=o.toString(16);return e.length%2!==0&&(e="0"+e),"0x"+e}function Ye(a,o){var e=a.input.wrapped,t=a.pools.reduce(function(p,s,d){var u=p.inputToken,l=p.path,y=p.types,f=s.token0.equals(u)?s.token1:s.token0;return d===0?{inputToken:f,types:["address","uint24","address"],path:[u.address,s.fee,f.address]}:{inputToken:f,types:[].concat(y,["uint24","address"]),path:[].concat(l,[s.fee,f.address])}},{inputToken:e,path:[],types:[]}),i=t.path,r=t.types;return o?Oe(r.reverse(),i.reverse()):Oe(r,i)}function Ce(a,o){var e=n.leftShift(n.BigInt(a),n.BigInt(192)),t=n.BigInt(o),i=n.divide(e,t);return je(i)}var A=function(){function a(){}return a.mulDivRoundingUp=function(e,t,i){var r=n.multiply(e,t),p=n.divide(r,i);return n.notEqual(n.remainder(r,i),x)&&(p=n.add(p,W)),p},a.mulDiv=function(e,t,i){var r=n.multiply(e,t);return n.divide(r,i)},a.getSmallerRootOfQuadEqn=function(e,t,i){var r=n.multiply(t,t),p=n.multiply(e,i),s=je(n.subtract(r,p)),d=n.subtract(t,s);return n.divide(d,e)},a}(),Ue=function(){function a(){}return a.addDelta=function(e,t){return n.lessThan(t,x)?n.subtract(e,n.multiply(t,Y)):n.add(e,t)},a}();function ft(a,o,e){if(n.greaterThan(a,o)){var t=[o,a];a=t[0],o=t[1]}var i=n.divide(n.multiply(a,o),P);return n.divide(n.multiply(n.BigInt(e),i),n.subtract(o,a))}function Tt(a,o,e){if(n.greaterThan(a,o)){var t=[o,a];a=t[0],o=t[1]}var i=n.multiply(n.multiply(n.BigInt(e),a),o),r=n.multiply(P,n.subtract(o,a));return n.divide(i,r)}function Fe(a,o,e){if(n.greaterThan(a,o)){var t=[o,a];a=t[0],o=t[1]}return n.divide(n.multiply(n.BigInt(e),P),n.subtract(o,a))}function vt(a,o,e,t,i,r){if(n.greaterThan(o,e)){var p=[e,o];o=p[0],e=p[1]}var s=r?Tt:ft;if(n.lessThanOrEqual(a,o))return s(o,e,t);if(n.lessThan(a,e)){var d=s(a,e,t),u=Fe(o,a,i);return n.lessThan(d,u)?d:u}else return Fe(o,e,i)}function $t(a,o){Number.isInteger(a)&&Number.isInteger(o)||h(!1),o>0||h(!1),a>=k.MIN_TICK&&a<=k.MAX_TICK||h(!1);var e=Math.round(a/o)*o;return e<k.MIN_TICK?e+o:e>k.MAX_TICK?e-o:e}function Be(a,o,e){var t=k.getSqrtRatioAtTick(e),i=n.multiply(t,t);return a.sortsBefore(o)?new re(a,o,we,i):new re(a,o,i,we)}var ht=n.subtract(n.exponentiate(n.BigInt(2),n.BigInt(160)),W),Ee=n.exponentiate(n.BigInt(10),n.BigInt(5));function We(a,o){var e=n.multiply(a,o);return n.bitwiseAnd(e,ce)}function kt(a,o){var e=n.add(a,o);return n.bitwiseAnd(e,ce)}var R=function(){function a(){}return a.getAmount0Unlock=function(e){return A.mulDivRoundingUp(n.BigInt(_e),P,e)},a.getAmount1Unlock=function(e){return A.mulDivRoundingUp(n.BigInt(_e),e,P)},a.getAmount0Delta=function(e,t,i,r){if(n.greaterThan(e,t)){var p=[t,e];e=p[0],t=p[1]}var s=n.leftShift(i,n.BigInt(96)),d=n.subtract(t,e);return r?A.mulDivRoundingUp(A.mulDivRoundingUp(s,d,t),W,e):n.divide(n.divide(n.multiply(s,d),t),e)},a.getAmount0DeltaFeeCompounding=function(e,t,i,r,p){if(n.greaterThan(e,t)){var s=[t,e];e=s[0],t=s[1]}var d=n.multiply(n.BigInt(2),n.leftShift(i,n.BigInt(96))),u=n.subtract(t,e),l=n.subtract(n.multiply(n.BigInt(2),e),n.divide(n.multiply(n.BigInt(r),t),n.subtract(Ee,n.BigInt(0)))),y=p?A.mulDivRoundingUp(A.mulDivRoundingUp(d,u,t),W,l):n.divide(n.divide(n.multiply(d,u),t),l),f=p?A.mulDivRoundingUp(A.mulDivRoundingUp(y,n.divide(n.multiply(n.BigInt(r),t),n.subtract(Ee,n.BigInt(0))),n.BigInt(2)),W,P):n.divide(n.divide(n.multiply(y,n.divide(n.multiply(n.BigInt(r),t),n.subtract(Ee,n.BigInt(0)))),n.BigInt(2)),P);return[y,f]},a.getAmount1Delta=function(e,t,i,r){if(n.greaterThan(e,t)){var p=[t,e];e=p[0],t=p[1]}return r?A.mulDivRoundingUp(i,n.subtract(t,e),P):n.divide(n.multiply(i,n.subtract(t,e)),P)},a.getNextSqrtPriceFromInput=function(e,t,i,r){return n.greaterThan(e,x)||h(!1),n.greaterThan(t,x)||h(!1),r?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,i,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,i,!0)},a.getNextSqrtPriceFromOutput=function(e,t,i,r){return n.greaterThan(e,x)||h(!1),n.greaterThan(t,x)||h(!1),r?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,i,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,i,!1)},a.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,i,r){if(n.equal(i,x))return e;var p=n.leftShift(t,n.BigInt(96));if(r){var s=We(i,e);if(n.equal(n.divide(s,i),e)){var d=kt(p,s);if(n.greaterThanOrEqual(d,p))return A.mulDivRoundingUp(p,e,d)}return A.mulDivRoundingUp(p,W,n.add(n.divide(p,e),i))}else{var u=We(i,e);n.equal(n.divide(u,i),e)||h(!1),n.greaterThan(p,u)||h(!1);var l=n.subtract(p,u);return A.mulDivRoundingUp(p,e,l)}},a.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,i,r){if(r){var p=n.lessThanOrEqual(i,ht)?n.divide(n.leftShift(i,n.BigInt(96)),t):n.divide(n.multiply(i,P),t);return n.add(e,p)}else{var s=A.mulDivRoundingUp(i,P,t);return n.greaterThan(e,s)||h(!1),n.subtract(e,s)}},a}(),Ge=function(o){var e=o.index,t=o.liquidityGross,i=o.liquidityNet;e>=k.MIN_TICK&&e<=k.MAX_TICK||h(!1),this.index=e,this.liquidityGross=n.BigInt(t),this.liquidityNet=n.BigInt(i)},gt=function(){function a(e,t){var i=e.map(function(r){return r instanceof Ge?r:new Ge(r)});ge.validateList(i,t),this.ticks=i}var o=a.prototype;return o.getTick=function(){var e=j(N.mark(function i(r){return N.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",ge.getTick(this.ticks,r));case 1:case"end":return s.stop()}},i,this)}));function t(i){return e.apply(this,arguments)}return t}(),o.nextInitializedTickWithinOneWord=function(){var e=j(N.mark(function i(r,p,s){return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",ge.nextInitializedTickWithinOneWord(this.ticks,r,p,s));case 1:case"end":return u.stop()}},i,this)}));function t(i,r,p){return e.apply(this,arguments)}return t}(),o.nextInitializedTickWithinFixedDistance=function(){var e=j(N.mark(function i(r,p,s){return N.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",ge.nextInitializedTickWithinFixedDistance(this.ticks,r,p,s));case 1:case"end":return u.stop()}},i,this)}));function t(i,r,p){return e.apply(this,arguments)}return t}(),a}(),ie=n.exponentiate(n.BigInt(10),n.BigInt(5)),ee=n.multiply(ie,n.BigInt(2)),Qe=function(){function a(){}return a.computeSwapStepPromm=function(e,t,i,r,p,s,d){var u={sqrtRatioNextX96:x,amountIn:x,amountOut:x,deltaL:x};if(n.equal(e,t))return[e,x,x,x];var l=a.calcReachAmount(e,t,i,p,s,d);console.log("======usedAmount of tick 480,",l.toString()),s&&n.greaterThanOrEqual(l,r)||!s&&n.lessThanOrEqual(l,r)?l=r:u.sqrtRatioNextX96=t,u.amountIn=l;var y=n.greaterThanOrEqual(l,x)?l:n.multiply(l,n.BigInt(-1));return n.equal(u.sqrtRatioNextX96,x)?(u.deltaL=a.estimateIncrementalLiquidity(y,i,e,p,s,d),u.sqrtRatioNextX96=a.calcFinalPrice(y,i,u.deltaL,e,s,d)):u.deltaL=a.calcIncrementalLiquidity(e,t,i,y,s,d),u.amountOut=a.calcReturnedAmount(e,u.sqrtRatioNextX96,i,u.deltaL,s,d),[u.sqrtRatioNextX96,u.amountIn,u.amountOut,u.deltaL]},a.calcReachAmount=function(e,t,i,r,p,s){var d=e>=t?n.subtract(e,t):n.subtract(t,e),u;if(p)if(s){var l=n.subtract(n.multiply(ee,t),n.multiply(n.BigInt(r),e)),y=A.mulDiv(i,n.multiply(ee,d),l);u=A.mulDiv(y,P,e)}else{var f=n.subtract(n.multiply(ee,e),n.multiply(n.BigInt(r),t)),g=A.mulDiv(i,n.multiply(ee,d),f);u=A.mulDiv(g,e,P)}else if(s){var M=n.subtract(n.multiply(ee,e),n.multiply(n.BigInt(r),t)),T=n.subtract(M,n.multiply(n.BigInt(r),e));T=A.mulDiv(n.leftShift(i,n.BigInt(96)),T,M),u=n.divide(A.mulDiv(T,d,e),t),u=n.multiply(u,n.BigInt(-1))}else{var w=n.subtract(n.multiply(ee,t),n.multiply(n.BigInt(r),e)),E=n.subtract(w,n.multiply(n.BigInt(r),t));E=A.mulDiv(i,E,w),u=A.mulDiv(E,d,P),u=n.multiply(u,n.BigInt(-1))}return u},a.calcReturnedAmount=function(e,t,i,r,p,s){var d;return s?p?d=n.add(A.mulDivRoundingUp(r,t,P),n.multiply(A.mulDiv(i,n.subtract(e,t),P),n.BigInt(-1))):d=n.add(A.mulDivRoundingUp(r,t,P),A.mulDivRoundingUp(i,n.subtract(t,e),P)):d=n.add(A.mulDivRoundingUp(n.add(i,r),P,t),n.multiply(A.mulDivRoundingUp(i,P,e),n.BigInt(-1))),p&&n.equal(d,n.BigInt(1))&&(d=x),d},a.calcIncrementalLiquidity=function(e,t,i,r,p,s){if(s){var d=A.mulDiv(i,P,e),u=p?n.add(d,r):n.subtract(d,r),l=A.mulDiv(t,u,P);return n.greaterThan(l,i)?n.subtract(l,i):x}else{var y=A.mulDiv(i,e,P),f=p?n.add(y,r):n.subtract(y,r),g=A.mulDiv(f,P,t);return n.greaterThan(g,i)?n.subtract(g,i):x}},a.estimateIncrementalLiquidity=function(e,t,i,r,p,s){var d,u=n.BigInt(r);if(p)s?d=A.mulDiv(i,n.multiply(e,u),n.leftShift(ee,n.BigInt(96))):d=A.mulDiv(P,n.multiply(e,u),n.multiply(ee,i));else{var l=u,y=n.subtract(ie,u),f=n.multiply(n.multiply(u,t),e);s?(y=n.subtract(y,A.mulDiv(n.multiply(ie,e),i,P)),f=A.mulDiv(f,i,P)):(y=n.subtract(y,A.mulDiv(n.multiply(ie,e),P,i)),f=A.mulDiv(f,P,i)),d=A.getSmallerRootOfQuadEqn(l,y,f)}return d},a.calcFinalPrice=function(e,t,i,r,p,s){if(s){var d=A.mulDiv(e,r,P);return p?A.mulDivRoundingUp(n.add(t,i),r,n.add(t,d)):A.mulDiv(n.add(t,i),r,n.subtract(t,d))}else{var u=A.mulDiv(e,P,r);return p?A.mulDiv(n.add(t,u),r,n.add(t,i)):A.mulDivRoundingUp(n.subtract(t,u),r,n.add(t,i))}},a.computeSwapStep=function(e,t,i,r,p){var s={},d=n.greaterThanOrEqual(e,t),u=n.greaterThanOrEqual(r,x);if(u){var l=n.divide(n.multiply(r,n.subtract(ie,n.BigInt(p))),ie);s.amountIn=d?R.getAmount0Delta(t,e,i,!0):R.getAmount1Delta(e,t,i,!0),n.greaterThanOrEqual(l,s.amountIn)?s.sqrtRatioNextX96=t:s.sqrtRatioNextX96=R.getNextSqrtPriceFromInput(e,i,l,d)}else s.amountOut=d?R.getAmount1Delta(t,e,i,!1):R.getAmount0Delta(e,t,i,!1),n.greaterThanOrEqual(n.multiply(r,Y),s.amountOut)?s.sqrtRatioNextX96=t:s.sqrtRatioNextX96=R.getNextSqrtPriceFromOutput(e,i,n.multiply(r,Y),d);var y=n.equal(t,s.sqrtRatioNextX96);return d?(s.amountIn=y&&u?s.amountIn:R.getAmount0Delta(s.sqrtRatioNextX96,e,i,!0),s.amountOut=y&&!u?s.amountOut:R.getAmount1Delta(s.sqrtRatioNextX96,e,i,!1)):(s.amountIn=y&&u?s.amountIn:R.getAmount1Delta(e,s.sqrtRatioNextX96,i,!0),s.amountOut=y&&!u?s.amountOut:R.getAmount0Delta(e,s.sqrtRatioNextX96,i,!1)),!u&&n.greaterThan(s.amountOut,n.multiply(r,Y))&&(s.amountOut=n.multiply(r,Y)),u&&n.notEqual(s.sqrtRatioNextX96,t)?s.feeAmount=n.subtract(r,s.amountIn):s.feeAmount=A.mulDivRoundingUp(s.amountIn,n.BigInt(p),n.subtract(ie,n.BigInt(p))),[s.sqrtRatioNextX96,s.amountIn,s.amountOut,s.feeAmount]},a}(),bt=new ze,de=function(){function a(e,t,i,r,p,s,d,u){u===void 0&&(u=bt),Number.isInteger(i)&&i<1e5||h(!1);var l=k.getSqrtRatioAtTick(d),y=k.getSqrtRatioAtTick(d+1);n.greaterThanOrEqual(n.BigInt(r),l)&&n.lessThanOrEqual(n.BigInt(r),y)||h(!1);var f=e.sortsBefore(t)?[e,t]:[t,e];this.token0=f[0],this.token1=f[1],this.fee=i,this.sqrtRatioX96=n.BigInt(r),this.liquidity=n.BigInt(p),this.reinvestLiquidity=n.BigInt(s),this.tickCurrent=d,this.tickDataProvider=Array.isArray(u)?new gt(u,De[i]):u}a.getAddress=function(t,i,r,p){return Ke({factoryAddress:ot,fee:r,tokenA:t,tokenB:i,initCodeHashManualOverride:p})};var o=a.prototype;return o.involvesToken=function(t){return t.equals(this.token0)||t.equals(this.token1)},o.priceOf=function(t){return this.involvesToken(t)||h(!1),t.equals(this.token0)?this.token0Price:this.token1Price},o.getOutputAmount=function(){var e=j(N.mark(function i(r,p){var s,d,u,l,y,f,g;return N.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return this.involvesToken(r.currency)||h(!1),s=r.currency.equals(this.token0),T.next=4,this.swap(s,r.quotient,p);case 4:return d=T.sent,u=d.amountCalculated,l=d.sqrtRatioX96,y=d.liquidity,f=d.tickCurrent,g=s?this.token1:this.token0,T.abrupt("return",[D.fromRawAmount(g,n.multiply(u,Y)),new a(this.token0,this.token1,this.fee,l,y,0,f,this.tickDataProvider)]);case 11:case"end":return T.stop()}},i,this)}));function t(i,r){return e.apply(this,arguments)}return t}(),o.getOutputAmountProMM=function(){var e=j(N.mark(function i(r,p){var s,d,u,l,y,f,g,M;return N.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.involvesToken(r.currency)||h(!1),s=r.currency.equals(this.token0),w.next=4,this.swapProMM(s,r.quotient,p);case 4:return d=w.sent,u=d.amountCalculated,l=d.sqrtRatioX96,y=d.baseL,f=d.reinvestL,g=d.tickCurrent,M=s?this.token1:this.token0,w.abrupt("return",[D.fromRawAmount(M,n.multiply(u,Y)),new a(this.token0,this.token1,this.fee,l,y,f,g,this.tickDataProvider)]);case 12:case"end":return w.stop()}},i,this)}));function t(i,r){return e.apply(this,arguments)}return t}(),o.getInputAmount=function(){var e=j(N.mark(function i(r,p){var s,d,u,l,y,f,g;return N.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return r.currency.isToken&&this.involvesToken(r.currency)||h(!1),s=r.currency.equals(this.token1),T.next=4,this.swap(s,n.multiply(r.quotient,Y),p);case 4:return d=T.sent,u=d.amountCalculated,l=d.sqrtRatioX96,y=d.liquidity,f=d.tickCurrent,g=s?this.token0:this.token1,T.abrupt("return",[D.fromRawAmount(g,u),new a(this.token0,this.token1,this.fee,l,y,0,f,this.tickDataProvider)]);case 11:case"end":return T.stop()}},i,this)}));function t(i,r){return e.apply(this,arguments)}return t}(),o.swapProMM=function(){var e=j(N.mark(function i(r,p,s){var d,u,l,y,f,g;return N.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:s||(s=r?n.add(k.MIN_SQRT_RATIO,W):n.subtract(k.MAX_SQRT_RATIO,W)),r?(n.greaterThan(s,k.MIN_SQRT_RATIO)||h(!1),n.lessThan(s,this.sqrtRatioX96)||h(!1)):(n.lessThan(s,k.MAX_SQRT_RATIO)||h(!1),n.greaterThan(s,this.sqrtRatioX96)||h(!1)),d=n.greaterThanOrEqual(p,x),u={amountSpecifiedRemaining:p,amountCalculated:x,baseL:this.liquidity,reinvestL:this.reinvestLiquidity,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent};case 4:if(!(n.notEqual(u.amountSpecifiedRemaining,x)&&u.sqrtPriceX96!=s)){T.next=41;break}return console.log("===[s] 1.state",Object.fromEntries(Object.entries(u).map(function(w){var E=w[0],O=w[1];return[E,O.toString()]}))),l={},l.sqrtPriceStartX96=u.sqrtPriceX96,T.next=10,this.tickDataProvider.nextInitializedTickWithinFixedDistance(u.tick,r,480);case 10:if(y=T.sent,l.tickNext=y[0],l.initialized=y[1],l.tickNext<k.MIN_TICK?l.tickNext=k.MIN_TICK:l.tickNext>k.MAX_TICK&&(l.tickNext=k.MAX_TICK),l.sqrtPriceNextX96=k.getSqrtRatioAtTick(l.tickNext),console.log("===[s] 2.step",Object.fromEntries(Object.entries(l).map(function(w){var E=w[0],O=w[1];return[E,O&&O.toString()]}))),f=Qe.computeSwapStepPromm(u.sqrtPriceX96,(r?n.lessThan(l.sqrtPriceNextX96,s):n.greaterThan(l.sqrtPriceNextX96,s))?s:l.sqrtPriceNextX96,n.add(u.baseL,u.reinvestL),u.amountSpecifiedRemaining,this.fee,d,r),u.sqrtPriceX96=f[0],l.amountIn=f[1],l.amountOut=f[2],l.deltaL=f[3],console.log("===[s] 3.step",Object.fromEntries(Object.entries(l).map(function(w){var E=w[0],O=w[1];return[E,O&&O.toString()]}))),u.amountSpecifiedRemaining=n.subtract(u.amountSpecifiedRemaining,l.amountIn),u.amountCalculated=n.add(u.amountCalculated,l.amountOut),u.reinvestL=n.add(u.reinvestL,l.deltaL),!n.equal(u.sqrtPriceX96,l.sqrtPriceNextX96)){T.next=37;break}if(!l.initialized){T.next=34;break}return T.t0=n,T.next=30,this.tickDataProvider.getTick(l.tickNext);case 30:T.t1=T.sent.liquidityNet,g=T.t0.BigInt.call(T.t0,T.t1),r&&(g=n.multiply(g,Y)),u.baseL=Ue.addDelta(u.baseL,g);case 34:u.tick=r?l.tickNext-1:l.tickNext,T.next=38;break;case 37:u.tick=k.getTickAtSqrtRatio(u.sqrtPriceX96);case 38:console.log("===[s] 4.state",Object.fromEntries(Object.entries(u).map(function(w){var E=w[0],O=w[1];return[E,O&&O.toString()]}))),T.next=4;break;case 41:return T.abrupt("return",{amountCalculated:u.amountCalculated,sqrtRatioX96:u.sqrtPriceX96,baseL:u.baseL,reinvestL:u.reinvestL,tickCurrent:u.tick});case 42:case"end":return T.stop()}},i,this)}));function t(i,r,p){return e.apply(this,arguments)}return t}(),o.swap=function(){var e=j(N.mark(function i(r,p,s){var d,u,l,y,f,g;return N.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:s||(s=r?n.add(k.MIN_SQRT_RATIO,W):n.subtract(k.MAX_SQRT_RATIO,W)),r?(n.greaterThan(s,k.MIN_SQRT_RATIO)||h(!1),n.lessThan(s,this.sqrtRatioX96)||h(!1)):(n.lessThan(s,k.MAX_SQRT_RATIO)||h(!1),n.greaterThan(s,this.sqrtRatioX96)||h(!1)),d=n.greaterThanOrEqual(p,x),u={amountSpecifiedRemaining:p,amountCalculated:x,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent,liquidity:this.liquidity};case 4:if(!(n.notEqual(u.amountSpecifiedRemaining,x)&&u.sqrtPriceX96!=s)){T.next=35;break}return l={},l.sqrtPriceStartX96=u.sqrtPriceX96,T.next=9,this.tickDataProvider.nextInitializedTickWithinOneWord(u.tick,r,this.tickSpacing);case 9:if(y=T.sent,l.tickNext=y[0],l.initialized=y[1],l.tickNext<k.MIN_TICK?l.tickNext=k.MIN_TICK:l.tickNext>k.MAX_TICK&&(l.tickNext=k.MAX_TICK),l.sqrtPriceNextX96=k.getSqrtRatioAtTick(l.tickNext),f=Qe.computeSwapStep(u.sqrtPriceX96,(r?n.lessThan(l.sqrtPriceNextX96,s):n.greaterThan(l.sqrtPriceNextX96,s))?s:l.sqrtPriceNextX96,u.liquidity,u.amountSpecifiedRemaining,this.fee),u.sqrtPriceX96=f[0],l.amountIn=f[1],l.amountOut=f[2],l.feeAmount=f[3],d?(u.amountSpecifiedRemaining=n.subtract(u.amountSpecifiedRemaining,n.add(l.amountIn,l.feeAmount)),u.amountCalculated=n.subtract(u.amountCalculated,l.amountOut)):(u.amountSpecifiedRemaining=n.add(u.amountSpecifiedRemaining,l.amountOut),u.amountCalculated=n.add(u.amountCalculated,n.add(l.amountIn,l.feeAmount))),!n.equal(u.sqrtPriceX96,l.sqrtPriceNextX96)){T.next=32;break}if(!l.initialized){T.next=29;break}return T.t0=n,T.next=25,this.tickDataProvider.getTick(l.tickNext);case 25:T.t1=T.sent.liquidityNet,g=T.t0.BigInt.call(T.t0,T.t1),r&&(g=n.multiply(g,Y)),u.liquidity=Ue.addDelta(u.liquidity,g);case 29:u.tick=r?l.tickNext-1:l.tickNext,T.next=33;break;case 32:u.sqrtPriceX96!=l.sqrtPriceStartX96&&(u.tick=k.getTickAtSqrtRatio(u.sqrtPriceX96));case 33:T.next=4;break;case 35:return T.abrupt("return",{amountCalculated:u.amountCalculated,sqrtRatioX96:u.sqrtPriceX96,liquidity:u.liquidity,tickCurrent:u.tick});case 36:case"end":return T.stop()}},i,this)}));function t(i,r,p){return e.apply(this,arguments)}return t}(),Ae(a,[{key:"token0Price",get:function(){var t;return(t=this._token0Price)!=null?t:this._token0Price=new re(this.token0,this.token1,we,n.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var t;return(t=this._token1Price)!=null?t:this._token1Price=new re(this.token1,this.token0,n.multiply(this.sqrtRatioX96,this.sqrtRatioX96),we)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return De[this.fee]}}]),a}(),It=function(){function a(e){var t=e.pool,i=e.liquidity,r=e.tickLower,p=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,r<p||h(!1),r>=k.MIN_TICK&&r%t.tickSpacing===0||h(!1),p<=k.MAX_TICK&&p%t.tickSpacing===0||h(!1),this.pool=t,this.tickLower=r,this.tickUpper=p,this.liquidity=n.BigInt(i)}var o=a.prototype;return o.ratiosAfterSlippage=function(t){var i=this.pool.token0Price.asFraction.multiply(new He(1).subtract(t)),r=this.pool.token0Price.asFraction.multiply(t.add(1)),p=Ce(i.numerator,i.denominator);n.lessThanOrEqual(p,k.MIN_SQRT_RATIO)&&(p=n.add(k.MIN_SQRT_RATIO,n.BigInt(1)));var s=Ce(r.numerator,r.denominator);return n.greaterThanOrEqual(s,k.MAX_SQRT_RATIO)&&(s=n.subtract(k.MAX_SQRT_RATIO,n.BigInt(1))),{sqrtRatioX96Lower:p,sqrtRatioX96Upper:s}},o.mintAmountsWithSlippage=function(t){var i=this.ratiosAfterSlippage(t),r=i.sqrtRatioX96Upper,p=i.sqrtRatioX96Lower,s=new de(this.pool.token0,this.pool.token1,this.pool.fee,p,0,this.pool.reinvestLiquidity,k.getTickAtSqrtRatio(p)),d=new de(this.pool.token0,this.pool.token1,this.pool.fee,r,0,this.pool.reinvestLiquidity,k.getTickAtSqrtRatio(r)),u=a.fromAmounts(Te({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1})),l=new a({pool:d,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,y=new a({pool:s,liquidity:u.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1;return{amount0:l,amount1:y}},o.burnAmountsWithSlippage=function(t){var i=this.ratiosAfterSlippage(t),r=i.sqrtRatioX96Upper,p=i.sqrtRatioX96Lower,s=new de(this.pool.token0,this.pool.token1,this.pool.fee,p,0,this.pool.reinvestLiquidity,k.getTickAtSqrtRatio(p)),d=new de(this.pool.token0,this.pool.token1,this.pool.fee,r,0,this.pool.reinvestLiquidity,k.getTickAtSqrtRatio(r)),u=new a({pool:d,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,l=new a({pool:s,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:u.quotient,amount1:l.quotient}},a.fromAmounts=function(t){var i=t.pool,r=t.tickLower,p=t.tickUpper,s=t.amount0,d=t.amount1,u=t.useFullPrecision,l=k.getSqrtRatioAtTick(r),y=k.getSqrtRatioAtTick(p);return new a({pool:i,tickLower:r,tickUpper:p,liquidity:vt(i.sqrtRatioX96,l,y,s,d,u)})},a.fromAmount0=function(t){var i=t.pool,r=t.tickLower,p=t.tickUpper,s=t.amount0,d=t.useFullPrecision;return a.fromAmounts({pool:i,tickLower:r,tickUpper:p,amount0:s,amount1:ce,useFullPrecision:d})},a.fromAmount1=function(t){var i=t.pool,r=t.tickLower,p=t.tickUpper,s=t.amount1;return a.fromAmounts({pool:i,tickLower:r,tickUpper:p,amount0:ce,amount1:s,useFullPrecision:!0})},Ae(a,[{key:"token0PriceLower",get:function(){return Be(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return Be(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return this._token0Amount===null&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=D.fromRawAmount(this.pool.token0,R.getAmount0Delta(k.getSqrtRatioAtTick(this.tickLower),k.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=D.fromRawAmount(this.pool.token0,R.getAmount0Delta(this.pool.sqrtRatioX96,k.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=D.fromRawAmount(this.pool.token0,x)),this._token0Amount}},{key:"amount1",get:function(){return this._token1Amount===null&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=D.fromRawAmount(this.pool.token1,x):this.pool.tickCurrent<this.tickUpper?this._token1Amount=D.fromRawAmount(this.pool.token1,R.getAmount1Delta(k.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=D.fromRawAmount(this.pool.token1,R.getAmount1Delta(k.getSqrtRatioAtTick(this.tickLower),k.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){return this._mintAmounts===null?this.pool.tickCurrent<this.tickLower?{amount0:R.getAmount0Delta(k.getSqrtRatioAtTick(this.tickLower),k.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:x}:this.pool.tickCurrent<this.tickUpper?{amount0:R.getAmount0Delta(this.pool.sqrtRatioX96,k.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:R.getAmount1Delta(k.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:x,amount1:R.getAmount1Delta(k.getSqrtRatioAtTick(this.tickLower),k.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]),a}(),Vt=function(){function a(o,e,t){this._midPrice=null,o.length>0||h(!1);var i=o[0].chainId,r=o.every(function(T){return T.chainId===i});r||h(!1);var p=e.wrapped;o[0].involvesToken(p)||h(!1),o[o.length-1].involvesToken(t.wrapped)||h(!1);for(var s=[p],d=ae(o.entries()),u;!(u=d()).done;){var l=u.value,y=l[0],f=l[1],g=s[y];g.equals(f.token0)||g.equals(f.token1)||h(!1);var M=g.equals(f.token0)?f.token1:f.token0;s.push(M)}this.pools=o,this.tokenPath=s,this.input=e,this.output=t??s[s.length-1]}return Ae(a,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(this._midPrice!==null)return this._midPrice;var e=this.pools.slice(1).reduce(function(t,i){var r=t.nextInput,p=t.price;return r.equals(i.token0)?{nextInput:i.token1,price:p.multiply(i.token0Price)}:{nextInput:i.token0,price:p.multiply(i.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new re(this.input,this.output,e.denominator,e.numerator)}}]),a}(),Ht=function(){function a(e){var t=e.routes,i=e.tradeType,r=t[0].inputAmount.currency,p=t[0].outputAmount.currency;t.every(function(T){var w=T.route;return r.wrapped.equals(w.input.wrapped)})||h(!1),t.every(function(T){var w=T.route;return p.wrapped.equals(w.output.wrapped)})||h(!1);for(var s=t.map(function(T){var w=T.route;return w.pools.length}).reduce(function(T,w){return T+w},0),d=new Set,u=ae(t),l;!(l=u()).done;)for(var y=l.value.route,f=ae(y.pools),g;!(g=f()).done;){var M=g.value;d.add(de.getAddress(M.token0,M.token1,M.fee))}s!=d.size&&h(!1),this.swaps=t,this.tradeType=i}a.createUncheckedTrade=function(t){return new a(Te({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))};var o=a.prototype;return o.minimumAmountOut=function(t,i){if(i===void 0&&(i=this.outputAmount),t.lessThan(x)&&h(!1),this.tradeType===X.EXACT_OUTPUT)return i;var r=new Pe(W).add(t).invert().multiply(i.quotient).quotient;return D.fromRawAmount(i.currency,r)},o.maximumAmountIn=function(t,i){if(i===void 0&&(i=this.inputAmount),t.lessThan(x)&&h(!1),this.tradeType===X.EXACT_INPUT)return i;var r=new Pe(W).add(t).multiply(i.quotient).quotient;return D.fromRawAmount(i.currency,r)},o.worstExecutionPrice=function(t){return new re(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(t).quotient,this.minimumAmountOut(t).quotient)},Ae(a,[{key:"route",get:function(){return this.swaps.length!=1&&h(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var t=this.swaps[0].inputAmount.currency,i=this.swaps.map(function(r){var p=r.inputAmount;return p}).reduce(function(r,p){return r.add(p)},D.fromRawAmount(t,0));return this._inputAmount=i,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var t=this.swaps[0].outputAmount.currency,i=this.swaps.map(function(r){var p=r.outputAmount;return p}).reduce(function(r,p){return r.add(p)},D.fromRawAmount(t,0));return this._outputAmount=i,this._outputAmount}},{key:"executionPrice",get:function(){var t;return(t=this._executionPrice)!=null?t:this._executionPrice=new re(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var t=D.fromRawAmount(this.outputAmount.currency,0),i=ae(this.swaps),r;!(r=i()).done;){var p=r.value,s=p.route,d=p.inputAmount,u=s.midPrice;t=t.add(u.quote(d))}var l=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new He(l.numerator,l.denominator),this._priceImpact}}]),a}(),wt=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}],ye=function(){function a(){}return a.encodeMulticall=function(e){return Array.isArray(e)||(e=[e]),e.length===1?e[0]:a.INTERFACE.encodeFunctionData("multicall",[e])},a}();ye.INTERFACE=new ue(wt);var At=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"address",name:"_descriptor",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!1,internalType:"uint256",name:"additionalRTokenOwed",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"BurnPosition",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rTokenBurn",type:"uint256"}],name:"BurnRToken",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint80",name:"poolId",type:"uint80"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"MintPosition",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!1,internalType:"uint256",name:"additionalRTokenOwed",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"additionalRTokenOwed",type:"uint256"}],name:"SyncFeeGrowth",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"int24[2]",name:"ticksPrevious",type:"int24[2]"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct IBasePositionManager.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"addLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"uint256",name:"additionalRTokenOwed",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"addressToPoolId",outputs:[{internalType:"uint80",name:"",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"antiSnipAttackData",outputs:[{internalType:"uint32",name:"lastActionTime",type:"uint32"},{internalType:"uint32",name:"lockTime",type:"uint32"},{internalType:"uint32",name:"unlockTime",type:"uint32"},{internalType:"uint256",name:"feesLocked",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct IBasePositionManager.BurnRTokenParams",name:"params",type:"tuple"}],name:"burnRTokens",outputs:[{internalType:"uint256",name:"rTokenQty",type:"uint256"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"currentSqrtP",type:"uint160"}],name:"createAndUnlockPoolIfNecessary",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isRToken",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"int24[2]",name:"ticksPrevious",type:"int24[2]"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct IBasePositionManager.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deltaQty0",type:"uint256"},{internalType:"uint256",name:"deltaQty1",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextPoolId",outputs:[{internalType:"uint80",name:"",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"positions",outputs:[{components:[{internalType:"uint96",name:"nonce",type:"uint96"},{internalType:"address",name:"operator",type:"address"},{internalType:"uint80",name:"poolId",type:"uint80"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"rTokenOwed",type:"uint256"},{internalType:"uint256",name:"feeGrowthInsideLast",type:"uint256"}],internalType:"struct IBasePositionManager.Position",name:"pos",type:"tuple"},{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"token1",type:"address"}],internalType:"struct IBasePositionManager.PoolInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct IBasePositionManager.RemoveLiquidityParams",name:"params",type:"tuple"}],name:"removeLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"uint256",name:"additionalRTokenOwed",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"syncFeeGrowth",outputs:[{internalType:"uint256",name:"additionalRTokenOwed",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"transferAllTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWeth",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],St=[{inputs:[],name:"refundEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"transferAllTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"transferAllTokensWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWeth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWethWithFee",outputs:[],stateMutability:"payable",type:"function"}],Z=function(o){return tt(o,nt.MAINNET)},J=function(){function a(){}return a.encodeFeeBips=function(e){return S(e.multiply(1e4).quotient)},a.encodeUnwrapWETH=function(e,t,i){if(t=Z(t),i){var r=this.encodeFeeBips(i.fee),p=Z(i.recipient);return a.INTERFACE.encodeFunctionData("unwrapWethWithFee",[S(e),t,r,p])}else return a.INTERFACE.encodeFunctionData("unwrapWeth",[S(e),t])},a.encodeSweepToken=function(e,t,i,r){if(i=Z(i),r){var p=this.encodeFeeBips(r.fee),s=Z(r.recipient);return a.INTERFACE.encodeFunctionData("transferAllTokensWithFee",[e.address,S(t),i,p,s])}else return a.INTERFACE.encodeFunctionData("transferAllTokens",[e.address,S(t),i])},a.encodeRefundETH=function(){return a.INTERFACE.encodeFunctionData("refundEth")},a}();J.INTERFACE=new ue(St);var xt=["expectedCurrencyOwed0","expectedCurrencyOwed1"];function be(a){return Object.keys(a).some(function(o){return o==="recipient"})}var Mt=function(){function a(){}return a.encodeCreate=function(e){return a.INTERFACE.encodeFunctionData("createAndUnlockPoolIfNecessary",[e.token0.address,e.token1.address,e.fee,S(e.sqrtRatioX96)])},a.createCallParameters=function(e){return ye.encodeMulticall([this.encodeCreate(e)]),{calldata:this.encodeCreate(e),value:S(0)}},a.createCallParametersTest=function(e,t){return{calldata:this.encodeCreate(e),value:S(t)}},a.addCallParameters=function(e,t,i){var r=this,p=Array.isArray(e)?e:[e];be(i)&&i.createPool&&p.length!==1&&h(!1);var s=Array.isArray(t[0])?t:[t];p.length!==s.length&&h(!1),p.forEach(function(y){n.greaterThan(y.liquidity,x)||h(!1)});var d=[],u=n.BigInt(0),l=n.BigInt(0);return p.forEach(function(y,f){var g=y.mintAmounts,M=g.amount0,T=g.amount1,w=y.mintAmountsWithSlippage(i.slippageTolerance),E=S(w.amount0),O=S(w.amount1),G=S(i.deadline);if(be(i)&&i.createPool&&d.push(r.encodeCreate(y.pool)),be(i)){var _=Z(i.recipient);d.push(a.INTERFACE.encodeFunctionData("mint",[{token0:y.pool.token0.address,token1:y.pool.token1.address,fee:y.pool.fee,tickLower:y.tickLower,tickUpper:y.tickUpper,ticksPrevious:s[f],amount0Desired:S(M),amount1Desired:S(T),amount0Min:E,amount1Min:O,recipient:_,deadline:G}]))}else d.push(a.INTERFACE.encodeFunctionData("addLiquidity",[{tokenId:S(i.tokenId),ticksPrevious:s[f],amount0Desired:S(M),amount1Desired:S(T),amount0Min:E,amount1Min:O,deadline:G}]));if(i.useNative){var K=i.useNative.wrapped;y.pool.token0.equals(K)||y.pool.token1.equals(K)||h(!1);var H=y.pool.token0.equals(K)?M:T;if(n.greaterThan(H,x)&&(l=n.add(l,H)),be(i)&&i.createPool){var z=y.pool.token0.equals(K)?R.getAmount0Unlock(y.pool.sqrtRatioX96):R.getAmount1Unlock(y.pool.sqrtRatioX96);u=n.add(u,n.add(H,z))}else u=n.add(H,u)}}),n.greaterThan(l,x)&&d.push(J.encodeRefundETH()),{calldata:ye.encodeMulticall(d),value:S(u)}},a.encodeCollect=function(e){var t=[],i=S(e.tokenId),r=Z(e.recipient),p=S(e.deadline);!e.isRemovingLiquid&&!e.isPositionClosed&&(e.legacyMode?t.push(a.INTERFACE.encodeFunctionData("removeLiquidity",[{tokenId:i,liquidity:"0x1",amount0Min:0,amount1Min:0,deadline:p}])):t.push(a.INTERFACE.encodeFunctionData("syncFeeGrowth",[i]))),e.havingFee&&t.push(a.INTERFACE.encodeFunctionData("burnRTokens",[{tokenId:i,amount0Min:0,amount1Min:0,deadline:p}]));var s=e.expectedCurrencyOwed0.currency.isNative,d=e.expectedCurrencyOwed1.currency.isNative,u=e.expectedCurrencyOwed0.quotient,l=e.expectedCurrencyOwed1.quotient;if(s)t.push(J.encodeUnwrapWETH(u,r));else{var y=e.expectedCurrencyOwed0.currency;t.push(J.encodeSweepToken(y,u,r))}if(d)t.push(J.encodeUnwrapWETH(l,r));else{var f=e.expectedCurrencyOwed1.currency;t.push(J.encodeSweepToken(f,l,r))}return t},a.collectCallParameters=function(e){var t=a.encodeCollect(e);return{calldata:ye.encodeMulticall(t),value:S(0)}},a.removeCallParameters=function(e,t){var i=[],r=S(t.deadline),p=S(t.tokenId);console.log(e);var s=new It({pool:e.pool,liquidity:t.liquidityPercentage.multiply(e.liquidity).quotient,tickLower:e.tickLower,tickUpper:e.tickUpper});n.greaterThan(s.liquidity,x)||h(!1);var d=s.burnAmountsWithSlippage(t.slippageTolerance),u=d.amount0,l=d.amount1;t.permit&&i.push(a.INTERFACE.encodeFunctionData("permit",[Z(t.permit.spender),p,S(t.permit.deadline),t.permit.v,t.permit.r,t.permit.s])),i.push(a.INTERFACE.encodeFunctionData("removeLiquidity",[{tokenId:p,liquidity:S(s.liquidity),amount0Min:S(u),amount1Min:S(l),deadline:r}]));var y=t.collectOptions,f=y.expectedCurrencyOwed0,g=y.expectedCurrencyOwed1,M=rt(y,xt);return i.push.apply(i,a.encodeCollect(Te({tokenId:S(t.tokenId),expectedCurrencyOwed0:f.add(D.fromRawAmount(f.currency,u)),expectedCurrencyOwed1:g.add(D.fromRawAmount(g.currency,l))},M))),t.liquidityPercentage.equalTo(W)?t.burnToken&&i.push(a.INTERFACE.encodeFunctionData("burn",[p])):t.burnToken===!0&&h(!1),{calldata:ye.encodeMulticall(i),value:S(0)}},a.safeTransferFromParameters=function(e){var t=Z(e.recipient),i=Z(e.sender),r;return e.data?r=a.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[i,t,S(e.tokenId),e.data]):r=a.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[i,t,S(e.tokenId)]),{calldata:r,value:S(0)}},a}();Mt.INTERFACE=new ue(At);var Et=[{inputs:[{internalType:"address",name:"_factory",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"afterSqrtPList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"feeUnits",type:"uint24"},{internalType:"uint160",name:"limitSqrtP",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{components:[{internalType:"uint256",name:"usedAmount",type:"uint256"},{internalType:"uint256",name:"returnedAmount",type:"uint256"},{internalType:"uint160",name:"afterSqrtP",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],internalType:"struct IQuoterV2.QuoteOutput",name:"output",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"afterSqrtPList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"feeUnits",type:"uint24"},{internalType:"uint160",name:"limitSqrtP",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{components:[{internalType:"uint256",name:"usedAmount",type:"uint256"},{internalType:"uint256",name:"returnedAmount",type:"uint256"},{internalType:"uint160",name:"afterSqrtP",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],internalType:"struct IQuoterV2.QuoteOutput",name:"output",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"swapCallback",outputs:[],stateMutability:"view",type:"function"}],Pt=function(){function a(){}return a.quoteCallParameters=function(e,t,i,r){r===void 0&&(r={});var p=e.pools.length===1,s=S(t.quotient),d;if(p)if(i===X.EXACT_INPUT){var u,l;d=a.INTERFACE.encodeFunctionData("quoteExactInputSingle",[[e.tokenPath[0].address,e.tokenPath[1].address,s,e.pools[0].fee,S((u=(l=r)==null?void 0:l.sqrtPriceLimitX96)!=null?u:0)]])}else{var y,f;d=a.INTERFACE.encodeFunctionData("quoteExactOutputSingle",[[e.tokenPath[0].address,e.tokenPath[1].address,s,e.pools[0].fee,S((y=(f=r)==null?void 0:f.sqrtPriceLimitX96)!=null?y:0)]])}else{var g;((g=r)==null?void 0:g.sqrtPriceLimitX96)!==void 0&&h(!1);var M=Ye(e,i===X.EXACT_OUTPUT);i===X.EXACT_INPUT?d=a.INTERFACE.encodeFunctionData("quoteExactInput",[M,s]):d=a.INTERFACE.encodeFunctionData("quoteExactOutput",[M,s])}return{calldata:d,value:S(0)}},a}();Pt.INTERFACE=new ue(Et);function Ot(a){return"nonce"in a}var Ze=function(){function a(){}return a.encodePermit=function(e,t){return Ot(t)?a.INTERFACE.encodeFunctionData("selfPermitAllowed",[e.address,S(t.nonce),S(t.expiry),t.v,t.r,t.s]):a.INTERFACE.encodeFunctionData("selfPermit",[e.address,S(t.amount),S(t.deadline),t.v,t.r,t.s])},a}();Ze.INTERFACE=new ue(at);var Nt=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"refundEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"deltaQty0",type:"int256"},{internalType:"int256",name:"deltaQty1",type:"int256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"}],internalType:"struct IRouter.ExactInputParams",name:"params",type:"tuple"}],name:"swapExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"uint160",name:"limitSqrtP",type:"uint160"}],internalType:"struct IRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"swapExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"maxAmountIn",type:"uint256"}],internalType:"struct IRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"swapExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"maxAmountIn",type:"uint256"},{internalType:"uint160",name:"limitSqrtP",type:"uint160"}],internalType:"struct IRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"swapExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"transferAllTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeUnits",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"transferAllTokensWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWeth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"minAmount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeUnits",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWethWithFee",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],Lt=function(){function a(){}return a.swapCallParameters=function(e,t){Array.isArray(e)||(e=[e]);var i=e[0],r=i.inputAmount.currency.wrapped,p=i.outputAmount.currency.wrapped;e.every(function(b){return b.inputAmount.currency.wrapped.equals(r)})||h(!1),e.every(function(b){return b.outputAmount.currency.wrapped.equals(p)})||h(!1);var s=[],d=D.fromRawAmount(e[0].inputAmount.currency,0),u=D.fromRawAmount(e[0].outputAmount.currency,0),l=e.reduce(function(b,I){return b.add(I.minimumAmountOut(t.slippageTolerance))},u),y=i.inputAmount.currency.isNative&&i.tradeType===X.EXACT_OUTPUT,f=i.inputAmount.currency.isNative,g=i.outputAmount.currency.isNative,M=g||!!t.fee,T=f?e.reduce(function(b,I){return b.add(I.maximumAmountIn(t.slippageTolerance))},d):d;t.inputTokenPermit&&(i.inputAmount.currency.isToken||h(!1),s.push(Ze.encodePermit(i.inputAmount.currency,t.inputTokenPermit)));for(var w=Z(t.recipient),E=S(t.deadline),O=ae(e),G;!(G=O()).done;)for(var _=G.value,K=ae(_.swaps),H;!(H=K()).done;){var z=H.value,C=z.route,ve=z.inputAmount,se=z.outputAmount,oe=S(_.maximumAmountIn(t.slippageTolerance,ve).quotient),te=S(_.minimumAmountOut(t.slippageTolerance,se).quotient),Se=C.pools.length===1;if(Se)if(_.tradeType===X.EXACT_INPUT){var pe,me={tokenIn:C.tokenPath[0].address,tokenOut:C.tokenPath[1].address,fee:C.pools[0].fee,recipient:M?ke:w,deadline:E,amountIn:oe,minAmountOut:te,limitSqrtP:S((pe=t.sqrtPriceLimitX96)!=null?pe:0)};s.push(a.INTERFACE.encodeFunctionData("swapExactInputSingle",[me]))}else{var le,he={tokenIn:C.tokenPath[0].address,tokenOut:C.tokenPath[1].address,fee:C.pools[0].fee,recipient:M?ke:w,deadline:E,amountOut:te,maxAmountIn:oe,limitSqrtP:S((le=t.sqrtPriceLimitX96)!=null?le:0)};s.push(a.INTERFACE.encodeFunctionData("swapExactOutputSingle",[he]))}else{t.sqrtPriceLimitX96!==void 0&&h(!1);var m=Ye(C,_.tradeType===X.EXACT_OUTPUT);if(_.tradeType===X.EXACT_INPUT){var c={path:m,recipient:M?ke:w,deadline:E,amountIn:oe,minAmountOut:te};s.push(a.INTERFACE.encodeFunctionData("swapExactInput",[c]))}else{var v={path:m,recipient:M?ke:w,deadline:E,amountOut:te,maxAmountIn:oe};s.push(a.INTERFACE.encodeFunctionData("swapExactOutput",[v]))}}}return M&&(t.fee?g?s.push(J.encodeUnwrapWETH(l.quotient,w,t.fee)):s.push(J.encodeSweepToken(i.outputAmount.currency.wrapped,l.quotient,w,t.fee)):s.push(J.encodeUnwrapWETH(l.quotient,w))),y&&s.push(J.encodeRefundETH()),{calldata:ye.encodeMulticall(s),value:S(T.quotient)}},a}();Lt.INTERFACE=new ue(Nt);const Rt="hh-sol-artifact-1",qt="IUniswapV3PoolState",Dt="contracts/interfaces/pool/IUniswapV3PoolState.sol",_t=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"qty",type:"uint128"},{indexed:!1,internalType:"uint256",name:"qty0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"qty1",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"qty",type:"uint256"},{indexed:!1,internalType:"uint256",name:"qty0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"qty1",type:"uint256"}],name:"BurnRTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"qty0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"qty1",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid1",type:"uint256"}],name:"Flash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint160",name:"sqrtP",type:"uint160"},{indexed:!1,internalType:"int24",name:"tick",type:"int24"}],name:"Initialize",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"qty",type:"uint128"},{indexed:!1,internalType:"uint256",name:"qty0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"qty1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"int256",name:"deltaQty0",type:"int256"},{indexed:!1,internalType:"int256",name:"deltaQty1",type:"int256"},{indexed:!1,internalType:"uint160",name:"sqrtP",type:"uint160"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"int24",name:"currentTick",type:"int24"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"qty",type:"uint128"}],name:"burn",outputs:[{internalType:"uint256",name:"qty0",type:"uint256"},{internalType:"uint256",name:"qty1",type:"uint256"},{internalType:"uint256",name:"feeGrowthInsideLast",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_qty",type:"uint256"},{internalType:"bool",name:"isLogicalBurn",type:"bool"}],name:"burnRTokens",outputs:[{internalType:"uint256",name:"qty0",type:"uint256"},{internalType:"uint256",name:"qty1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"contract IFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"qty0",type:"uint256"},{internalType:"uint256",name:"qty1",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"flash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getFeeGrowthGlobal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLiquidityState",outputs:[{internalType:"uint128",name:"baseL",type:"uint128"},{internalType:"uint128",name:"reinvestL",type:"uint128"},{internalType:"uint128",name:"reinvestLLast",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolState",outputs:[{internalType:"uint160",name:"sqrtP",type:"uint160"},{internalType:"int24",name:"currentTick",type:"int24"},{internalType:"int24",name:"nearestCurrentTick",type:"int24"},{internalType:"bool",name:"locked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],name:"getPositions",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInsideLast",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSecondsPerLiquidityData",outputs:[{internalType:"uint128",name:"secondsPerLiquidityGlobal",type:"uint128"},{internalType:"uint32",name:"lastUpdateTime",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],name:"getSecondsPerLiquidityInside",outputs:[{internalType:"uint128",name:"secondsPerLiquidityInside",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"",type:"int24"}],name:"initializedTicks",outputs:[{internalType:"int24",name:"previous",type:"int24"},{internalType:"int24",name:"next",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTickLiquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"int24[2]",name:"ticksPrevious",type:"int24[2]"},{internalType:"uint128",name:"qty",type:"uint128"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"uint256",name:"qty0",type:"uint256"},{internalType:"uint256",name:"qty1",type:"uint256"},{internalType:"uint256",name:"feeGrowthInsideLast",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolOracle",outputs:[{internalType:"contract IPoolOracle",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int256",name:"swapQty",type:"int256"},{internalType:"bool",name:"isToken0",type:"bool"},{internalType:"uint160",name:"limitSqrtP",type:"uint160"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[{internalType:"int256",name:"deltaQty0",type:"int256"},{internalType:"int256",name:"deltaQty1",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapFeeUnits",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"tickDistance",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"",type:"int24"}],name:"ticks",outputs:[{internalType:"uint128",name:"liquidityGross",type:"uint128"},{internalType:"int128",name:"liquidityNet",type:"int128"},{internalType:"uint256",name:"feeGrowthOutside",type:"uint256"},{internalType:"uint128",name:"secondsPerLiquidityOutside",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],name:"tweakPosZeroLiq",outputs:[{internalType:"uint256",name:"feeGrowthInsideLast",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint160",name:"initialSqrtP",type:"uint160"}],name:"unlockPool",outputs:[{internalType:"uint256",name:"qty0",type:"uint256"},{internalType:"uint256",name:"qty1",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Ct="0x",Ut="0x",Ft={},Bt={},Wt={_format:Rt,contractName:qt,sourceName:Dt,abi:_t,bytecode:Ct,deployedBytecode:Ut,linkReferences:Ft,deployedLinkReferences:Bt};var $e;(function(a){a.LOADING="LOADING",a.NOT_EXISTS="NOT_EXISTS",a.EXISTS="EXISTS",a.INVALID="INVALID"})($e||($e={}));const Ve=new ue(Wt.abi);function Gt(a,o,e){const{networkInfo:t}=it(),i=Ie.useMemo(()=>a.map(([d,u,l])=>{if(!d||!u||!l)return null;const y=d==null?void 0:d.wrapped,f=u==null?void 0:u.wrapped;if(!y||!f||y.equals(f))return null;const[g,M]=y.sortsBefore(f)?[y,f]:[f,y];return[g,M,l]}),[a]),r=Ie.useMemo(()=>{const d=t.elastic.coreFactory;return i.map(u=>{if(!d||!u||u[0].equals(u[1]))return;const l={factoryAddress:o||d,tokenA:u[0],tokenB:u[1],fee:u[2],initCodeHashManualOverride:e||t.elastic.initCodeHash};return Ke(l)})},[i,t,o,e]),p=Ne(r,Ve,"getPoolState"),s=Ne(r,Ve,"getLiquidityState");return Ie.useMemo(()=>a.map((d,u)=>{const[l,y,f]=i[u]??[];if(!l||!y||!f)return["INVALID",null];const{result:g,loading:M,valid:T}=p[u],{result:w,loading:E,valid:O}=s[u];if(M||E)return["LOADING",null];if(!T||!O)return["INVALID",null];if(!g||!w)return["NOT_EXISTS",null];if(!g.sqrtP||g.sqrtP.eq(0))return["NOT_EXISTS",null];try{return["EXISTS",new de(l,y,f,g.sqrtP,w.baseL,w.reinvestL,g.currentTick)]}catch(G){return console.error("Error when constructing the pool",G),["NOT_EXISTS",null]}}),[s,a,p,i])}function jt(a,o,e){const t=Ie.useMemo(()=>[[a,o,e]],[a,o,e]);return Gt(t)[0]}export{V as F,Mt as N,$e as P,Vt as R,Pt as S,Ht as T,Lt as a,jt as b,Ke as c,It as d,De as e,k as f,de as g,_t as h,Wt as i,$t as n,Be as t,Gt as u};
