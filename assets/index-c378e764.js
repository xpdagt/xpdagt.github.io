import{r as a,u as k,j as e,cU as z,R as I,dD as A,cF as E,Q as L,aw as D}from"./index-201afa5f.js";import{p as H}from"./useThrottle-1041457e.js";import{o as T,S as W,a as C,b as F,c as w,d as U,e as N,f as v,g as _,h as q,i as B,j as Q,k as b,l as $,u as V,m as G,n as J,p as K,q as M,r as O,s as X,t as P}from"./styled-3c70740c.js";const Y=({route:n,chainId:t,backgroundColor:o})=>{var c;const h=a.useRef(null),x=a.useRef(null),j=a.useRef(null),R=z(t),l=V(h,j,x);return a.useEffect(()=>(window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)),[]),a.useEffect(()=>{l()},[n]),e.jsx(G,{ref:j,backgroundColor:o,children:e.jsx(H,{innerRef:h,vertical:!1,onScroll:l,children:e.jsx(J,{length:(c=n==null?void 0:n.subRoutes)==null?void 0:c.length,ref:x,children:n.subRoutes.map((d,u,S)=>{const f=n.path[u+1],g=d.flat().map(r=>r.id).join("-");return e.jsxs(I.Fragment,{children:[e.jsxs(K,{children:[e.jsx(ee,{token:f}),Array.isArray(d)?d.map(r=>{var y;const s=M(r,R),i=(y=r.id.split("-"))==null?void 0:y[0];return(p=>A(t,i)&&!["1inch","paraswap","0x"].includes(r.exchange)?e.jsx(O,{href:E(t,i,"address"),target:"_blank",children:p},`${p}-${r.id}`):e.jsx(X,{children:p},`${p}-${r.id}`))(e.jsxs(e.Fragment,{children:[s!=null&&s.logoURL?e.jsx("img",{src:s==null?void 0:s.logoURL,alt:"",className:"img--sm"}):e.jsx("i",{className:"img--sm"}),`${(s==null?void 0:s.name)||"--"}: ${r.swapPercentage}%`]}))}):null]}),u!==S.length-1&&e.jsx(b,{children:e.jsx($,{})})]},g)})})})})},Z=({customChainId:n,tradeComposition:t,maxHeight:o,inputAmount:h,outputAmount:x,currencyIn:j,currencyOut:R})=>{const{chainId:l}=k(),c=n||l,d=a.useRef(null),u=a.useRef(null),S=a.useRef(null),f=(s,i,m)=>c&&s?e.jsxs(P,{as:"div",reverse:m,style:{border:"none"},children:[e.jsx(L,{currency:s,size:"20px"}),e.jsx("span",{children:`${i?i.toSignificant(6):""} ${s.symbol}`})]}):null,g=c&&t&&t.length>0,r=a.useCallback(()=>T(d.current),[]);return a.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),a.useEffect(()=>{r()},[t,o,r]),e.jsx(W,{ref:d,children:e.jsx(C,{ref:u,onScroll:r,style:{maxHeight:o||"100%"},children:e.jsxs("div",{ref:S,children:[e.jsxs(F,{children:[e.jsx(w,{children:f(j,h)}),!g&&e.jsx(U,{}),e.jsx(w,{children:f(R,x,!0)})]}),g?e.jsx("div",{children:e.jsxs(N,{children:[e.jsx(v,{}),e.jsx(v,{out:!0}),t.map(s=>e.jsxs(_,{children:[e.jsx(q,{children:B(s.swapPercentage,t.length)}),e.jsx(Q,{}),e.jsx(Y,{route:s,chainId:c}),e.jsx(b,{style:{marginRight:"2px"},children:e.jsx($,{})})]},s.id))]})}):null]})})})},ee=({token:n})=>{const t=D(n.wrapped.address,n.chainId);return e.jsxs(P,{style:{marginRight:0},href:E(n.chainId,n==null?void 0:n.wrapped.address,"token"),target:"_blank",children:[e.jsx(L,{currency:t,size:"16px"}),e.jsx("span",{children:t==null?void 0:t.symbol})]})},te=a.memo(Z);export{te as default};
