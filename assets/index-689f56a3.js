import{r as i,u as Q,y as V,a5 as z,av as J,v as X,aw as y,ar as Z,ax as ss,ay as E,az as as,as as es,aA as ts,aB as rs,aC as ns,aD as os,aE as is,j as s,aF as cs,aG as us,aH as ds,aI as ps,aJ as ls,aK as ms,g as Ss,aL as Cs,F as Ts,aM as Is,aN as hs,s as v,aO as gs}from"./index-201afa5f.js";import{T as a,a as L,H as xs,S as fs,b as vs,G as js,c as ws,L as Ps,C as bs,d as ys,e as Es,f as Ls,i as Ns}from"./index-5f408843.js";import{S as As}from"./SlippageSettingGroup-b73dffc7.js";import{B as Rs}from"./AppBody-16db00be.js";import"./useParsedAmount-dabd93bf.js";import"./wallets-c3d80dac.js";import"./TradePrice-42970758.js";import"./index-ad692c23.js";import"./TransactionSettingsIcon-de172ed8.js";import"./index-b2d55c59.js";import"./XCircle-ab46d13b.js";import"./formatCurrencyAmount-7f40941a.js";function _s(){var e=i.useRef(!0);return e.current?(e.current=!1,!0):e.current}var ks=function(e,d){return e===d};function Os(e,d){d===void 0&&(d=ks);var S=i.useRef(),t=i.useRef(e),p=_s();return!p&&!d(t.current,e)&&(S.current=t.current,t.current=e),S.current}const Us=({children:e})=>e.filter(Boolean).length?s.jsx(hs,{children:e}):null,Ws=v(Rs)`
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
  padding: 16px;
  margin-top: 0;

  &[data-highlight='true'] {
    animation: ${({theme:e})=>gs(e)} 2s 2 alternate ease-in-out;
  }
`,Fs=v.div`
  margin-bottom: 30px;
  ${({theme:e})=>e.mediaWidth.upToMedium`
  margin-bottom: 0px;
`}
`,Js=v(Ls)`
  height: 27px;
  width: 27px;
  margin-right: 10px;
  path {
    fill: ${({theme:e})=>e.subText} !important;
  }
`;function Xs(){const{account:e,chainId:d}=Q(),{changeNetwork:S}=V(),[t,p]=z(),x=t.get("chainId"),l=t.get("inputCurrency"),C=t.get("outputCurrency"),o=x&&J.includes(+x)?+x:X.MAINNET;i.useEffect(()=>{!e&&d!==o&&S(o)},[e,d,o,S]);const u=y(l||void 0,o)||Z[o],r=y(C||void 0,o)||ss[o],N=i.useMemo(()=>({[E.INPUT]:u||void 0,[E.OUTPUT]:r||void 0}),[u,r]),[A,R]=i.useState(),n=Object.values(a).includes(t.get("tab"))?t.get("tab"):a.SWAP,m=i.useCallback(c=>{t.set("tab",c),p(t)},[t,p]),j=as(),w=t.get("clientId");i.useEffect(()=>{w||j("/")},[w,j]);const I=Ns(n),h=Os(I?void 0:n),P=n===a.SWAP||h===a.SWAP&&I,_=n===a.LIMIT||h===a.LIMIT&&I,g=n===a.CROSS_CHAIN||h===a.CROSS_CHAIN&&I,b=()=>m(h||a.SWAP),[k,O]=es(i.useMemo(()=>[u??void 0,r??void 0],[u,r]),o),[U]=ts(),[W]=rs(),[F]=ns(),f=os(u==null?void 0:u.wrapped.address),B=i.useCallback(c=>{const T=c.isNative&&c.symbol||c.wrapped.address;T===C&&t.set("outputCurrency",l||""),t.set("inputCurrency",T),p(t)},[t,p,l,C]),M=i.useCallback(c=>{const T=c.isNative&&c.symbol||c.wrapped.address;T.toLowerCase()===(l==null?void 0:l.toLowerCase())&&t.set("inputCurrency",C||""),t.set("outputCurrency",T),p(t)},[t,p,l,C]),D={hidden:n!==a.SWAP,routeSummary:A,setRouteSummary:R,currencyIn:u||void 0,currencyOut:r||void 0,balanceIn:k,balanceOut:O,isDegenMode:W,slippage:F,transactionTimeout:U,permit:f==null?void 0:f.rawSignature,onChangeCurrencyIn:B,onChangeCurrencyOut:M,customChainId:o,omniView:!0},[G,H]=i.useState(!localStorage.getItem(L.SHOWED_LO_GUIDE)),[K,q]=i.useState(is),Y=r==null?void 0:r.wrapped.name,$=r==null?void 0:r.wrapped.symbol;return s.jsxs(s.Fragment,{children:[s.jsxs(cs,{children:[s.jsx(us,{}),s.jsxs(ds,{children:[s.jsxs(ps,{isShowTutorial:!1,children:[s.jsx(xs,{activeTab:n,setActiveTab:m,customChainId:o}),s.jsxs(Ws,{style:[a.INFO,a.LIMIT].includes(n)?{padding:0}:void 0,children:[P&&s.jsx(fs,{...D}),n===a.INFO&&s.jsx(ls,{currencies:N,onBack:b}),n===a.SETTINGS&&s.jsx(vs,{isCrossChainPage:g,isSwapPage:P,onBack:b,onClickLiquiditySources:()=>m(a.LIQUIDITY_SOURCES),onClickGasPriceTracker:()=>m(a.GAS_PRICE_TRACKER)}),n===a.GAS_PRICE_TRACKER&&s.jsx(js,{onBack:()=>m(a.SETTINGS)}),n===a.LIQUIDITY_SOURCES&&s.jsx(ms,{onBack:()=>m(a.SETTINGS),chainId:o}),n===a.LIMIT&&(G?s.jsx(ws,{onClose:()=>{H(!1),localStorage.setItem(L.SHOWED_LO_GUIDE,"1")}}):s.jsx("div",{style:{padding:"16px"},children:s.jsx(Ps,{flowState:K,setFlowState:q,currencyIn:u,currencyOut:r,note:r!=null&&r.isNative?Ss._({id:"dWoki4",values:{currencyName:Y,currencySymbol:$}}):void 0,useUrlParams:!0})})),g&&s.jsx(Cs,{visible:n===a.CROSS_CHAIN})]}),g&&s.jsx(bs,{isBridge:!0})]}),s.jsxs(Us,{children:[_&&s.jsx(ys,{customChainId:o}),g&&s.jsx(Es,{})]})]}),s.jsx(Ts,{justifyContent:"center",children:s.jsx(Fs,{children:s.jsx(As,{})})})]}),s.jsx(Is,{customChainId:o})]})}export{Ws as AppBodyWrapped,Us as InfoComponents,Js as RoutingIconWrapper,Fs as SwitchLocaleLinkWrapper,Xs as default};
